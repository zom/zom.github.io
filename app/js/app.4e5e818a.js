(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],u=0,m=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},i={app:0},r={app:0},a=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-1248c012":"1f6af27e","chunk-4b4be850":"1d787d9b","chunk-66433540":"334c2cb9"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-1248c012":1,"chunk-4b4be850":1,"chunk-66433540":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-1248c012":"17bf6012","chunk-4b4be850":"2a95ec1d","chunk-66433540":"3f3489f3"}[e]+".css",r=c.p+o,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var l=a[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===r))return t()}var m=document.getElementsByTagName("style");for(s=0;s<m.length;s++){l=m[s],u=l.getAttribute("data-href");if(u===o||u===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete i[e],d.parentNode.removeChild(d),n(a)},d.href=r;var g=document.getElementsByTagName("head")[0];g.appendChild(d)})).then((function(){i[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var m=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",m.name="ChunkLoadError",m.type=o,m.request=i,n[1](m)}r[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var m=0;m<l.length;m++)t(l[m]);var d=u;a.push([3,"chunk-vendors"]),n()})({0:function(e,t){},"0002":function(e,t,n){e.exports=n.p+"img/10_zomkyi_jumpinghappy.03d2e8d8.png"},"00e4":function(e,t,n){e.exports=n.p+"img/dresil-losar-recipe.1757decb.png"},"010c":function(e,t,n){e.exports=n.p+"img/20_zomkyi_heat.b9aa2ba8.png"},"0130":function(e,t,n){e.exports=n.p+"img/av_beta.41c39e4d.png"},"01d6":function(e,t,n){e.exports=n.p+"img/zom_ex1_10.40a23e43.png"},"02f6":function(e,t,n){e.exports=n.p+"img/av_badger.d4acb400.png"},"030d":function(e,t,n){e.exports=n.p+"img/shabhaley.8b44c728.png"},"03a5":function(e,t,n){e.exports=n.p+"img/pema07.1eaa9990.png"},"03e5":function(e,t,n){e.exports=n.p+"img/av_octopus.5212bf6b.png"},"0478":function(e,t,n){e.exports=n.p+"img/av_squirrel.d47c4b85.png"},"061b":function(e,t,n){e.exports=n.p+"img/av_jellyfish.03a9c0d4.png"},"065a":function(e,t,n){"use strict";n("f09e")},"07a7":function(e){e.exports=JSON.parse('{"Keanu Weblite":"Keanu Weblite","menu":{"start_private_chat":"Private chat with this user","reply":"Reply","edit":"Edit","delete":"Delete","download":"Download","ok":"Ok","cancel":"Cancel","send":"Send","back":"BACK","login":"Login","logout":"Logout","new_room":"New Room"},"message":{"you":"You","user_created_room":"{user} created the room","user_aliased_room":"{user} made the room alias {alias}","user_changed_display_name":"{user} changed display name to {displayName}","user_changed_avatar":"{user} changed the avatar","user_changed_room_avatar":"{user} changed the room avatar","user_encrypted_room":"{user} made the room encrypted","user_was_invited":"{user} was invited to the chat...","user_joined":"{user} joined the chat","user_left":"{user} left the chat","user_said":"{user} said:","file_prefix":"File: ","edited":"(edited)","download_progress":"{percentage}% downloaded","upload_progress":"Uploaded {count}","upload_progress_with_total":"Uploaded {count} of {total}","user_changed_room_history":"{user} made room history {type}","room_history_world_readable":"readable by anyone","room_history_shared":"readable to all members in the room","room_history_invited":"readable to members from when they were invited","room_history_joined":"readable to members from when they joined","user_changed_join_rules":"{user} made the room {type}","room_joinrule_invite":"invite only","room_joinrule_public":"public","user_changed_room_name":"{user} changed room name to {name}","user_changed_room_topic":"{user} changed room topic to {topic}","unread_messages":"Unread messages","replying_to_event":"REPLYING TO EVENT: {message}","your_message":"Your message...","scale_image":"Scale image","user_is_typing":"{user} is typing","users_are_typing":"{count} members are typing","room_powerlevel_change":"{user} changed powerlevel of {changes}","user_powerlevel_change_from_to":"{user} from {powerOld} to {powerNew}","user_changed_guest_access_closed":"{user} disallowed guests to join the room","user_changed_guest_access_open":"{user} allowed guests to join the room"},"room":{"members":"no members | 1 member | {count} members","leave":"Leave","purge_set_room_state":"Setting room state","purge_redacting_events":"Redacting events","purge_removing_members":"Removing members","purge_failed":"Failed to purge room!","room_list_invites":"Invites","room_list_rooms":"Rooms"},"room_welcome":{"welcome":"Welcome!","info":"Here are a few things to know about your group:","encrypted":"Messages are end-to-end encrypted.","room_history_is":"Room history is {type}.","join_public":"Anyone can join by opening this link: {link}.","join_invite":"Only people you invite can join.","info_permissions":"You can change \'join permissions\' and \'message history\' at any time in the group settings.","got_it":"Got it"},"new_room":{"new_room":"New Room","create":"Create","next":"Next","name_room":"Name group","room_topic":"Add a description if you like","join_permissions":"Join permissions","set_join_permissions":"Set Join Permissions","join_permissions_info":"These permissions determine how people can join the group and how easily others can be invited. They can be changed anytime.","get_link":"Get link","add_people":"Add people","link_copied":"Link copied!","public_info":"Anyone with a link","public_description":"Get a link to share","invite_info":"Only people added","invite_description":"Choose from a list or search by account ID","status_creating":"Creating room","status_avatar_total":"Uploading avatar: {count} of {total}","status_avatar":"Uploading avatar: {count}"},"device_list":{"title":"DEVICES","blocked":"Blocked","verified":"Verified","not_verified":"Not verified"},"login":{"title":"Login","username":"Username","password":"Password","username_required":"Username is required","password_required":"Password is required","login":"Login"},"profile":{"title":"My Profile","temporary_identity":"This identity is temporary. Set a password to use it again","set_password":"Set password","change_name":"Change name","change_password":"Change password","password_old":"Old password","password_new":"New password","password_repeat":"Repeat new password","display_name":"Display name"},"join":{"title":"Welcome to {roomName}","user_name_label":"User name","shared_computer":"Using a shared computer","joining_as":"You are joining as:","join":"Join room","join_guest":"Join as guest","status_logging_in":"Logging in...","status_joining":"Joining room..."},"invite":{"title":"Add Friends","done":"Done","send_invites_to":"Send invites to","status_inviting":"Inviting friend {index} of {count}","status_error":"Failed to invite one or or more friends!"},"leave":{"title_public":"Goodbye, {user}","text_public":"You can always join this room again if you know the link.","text_public_lastroom":"If you want to join this group again, you can join under a new identity. To keep {user}, {action}.","title_invite":"Are you sure you want to leave?","text_invite":"This group is locked. You cannot rejoin without a special permission.","create_account":"create an account","go_back":"Go back","leave":"Leave"},"purge_room":{"title":"Purge room?","info":"This operation will close the room for all members. It cannot be undone.","button":"Purge room"},"room_info":{"title":"Info","created_by":"Created by {user}","permissions":"Permissions","join_invite":"Room can be joined by invitation only","join_public":"Anyone with the link can join","link_copied":"Link copied!","purge":"Purge room","members":"Members","user":"{user}","user_you":"{user} (you)","hide_all":"Hide","show_all":"Show all","my_profile":"My Profile","identity":"You are logged in as {displayName}.","identity_temporary":"Your identity {displayName} is temporary. You can change your name or set a password to keep it.","view_profile":"View","leave_room":"Leave group","leave_room_info":"Note: This step cannot be undone. Make sure you want to logout and delete the chat forever.","version_info":"Powered by Guardian Project. Version: {version}"},"room_info_sheet":{"this_room":"This group","view_details":"View details"},"voice_recorder":{"swipe_to_cancel":"Swipe to cancel","release_to_cancel":"Release to cancel","failed_to_record":"Failed to record audio","not_supported_title":"Not supported","not_supported_text":"Unfortunately, this browser does not support audio recording."},"power_level":{"admin":"administrator","moderator":"moderator","default":"default","custom":"custom ({level})","restricted":"restricted"},"fallbacks":{"audio_file":"Audio file","video_file":"Video file","original_text":"<original text>","download_name":"Download"}}')},"07e5":function(e,t,n){e.exports=n.p+"img/stupa.748403f9.png"},"0a12":function(e,t,n){e.exports=n.p+"img/pema01.d0cb4d1f.png"},"0ae34":function(e,t,n){e.exports=n.p+"img/mandala.35f7a2cb.png"},"0af8":function(e,t,n){e.exports=n.p+"img/Cold.4998da40.png"},"0bce":function(e,t,n){"use strict";n("3331")},"0d2e":function(e,t,n){e.exports=n.p+"img/losar-ox-female.ad9e7113.png"},"0da0":function(e,t,n){"use strict";n("6978")},1:function(e,t){},10:function(e,t){},1051:function(e,t,n){e.exports=n.p+"img/Hello.f46d25b0.png"},11:function(e,t){},1195:function(e,t,n){e.exports=n.p+"img/happy_birthday.16880afc.png"},"11b3":function(e,t,n){e.exports=n.p+"img/Bemused.0aa239d4.png"},12:function(e,t){},"124a":function(e,t,n){},13:function(e,t){},1301:function(e,t,n){e.exports=n.p+"img/av_hedgehog.7cb0a229.png"},"132f":function(e,t,n){e.exports=n.p+"img/av_tucan.30beb3d2.png"},14:function(e,t){},15:function(e,t){},16:function(e,t){},1649:function(e,t,n){e.exports=n.p+"img/i-cannot-hear.7006f8a4.png"},"16b0":function(e,t,n){},"183f":function(e,t,n){e.exports=n.p+"img/15biscuit.95ba6a84.png"},"193e":function(e,t,n){"use strict";n("b899")},"19ad":function(e,t,n){e.exports=n.p+"img/av_macaw.a05c791e.png"},"19df":function(e,t,n){e.exports=n.p+"img/av_puffin.9d99a93a.png"},"1a51":function(e,t,n){e.exports=n.p+"img/2_zomkyi_hooray.b77b8d80.png"},"1a94":function(e,t){e.exports="data:image/png;base64,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"},"1b02":function(e,t,n){"use strict";n.r(t),t["default"]="# List your sticker pack names here, one per line\nbuddhist\nexpressions\nlosar\nolo and shimi\npema\nsindu\ntiboji\ntopgyal\ntraining\nzomkyi\n"},"1b7c":function(e,t,n){e.exports=n.p+"img/the_three_jewels.ede5bf85.png"},"1eb2":function(e,t,n){e.exports=n.p+"img/av_peacock.bcef575d.png"},"1fc8":function(e,t,n){e.exports=n.p+"img/ButterTea.35046311.png"},2:function(e,t){},"20e5":function(e,t,n){e.exports=n.p+"img/dreka-b.c7c73fff.png"},"21ef":function(e,t,n){"use strict";n("720a")},"230c":function(e,t,n){},"241d":function(e,t,n){"use strict";n("b0c0");t["a"]={data:function(){return{roomJoinRule:null,userCanChangeJoinRule:!1,userCanPurgeRoom:!1}},mounted:function(){this.$matrix.on("Room.timeline",this.roomInfoMixinOnEvent),this.updatePermissions()},destroyed:function(){this.$matrix.off("Room.timeline",this.roomInfoMixinOnEvent)},computed:{room:function(){return this.$matrix.currentRoom},roomName:function(){return this.room?this.room.name:""},roomTopic:function(){return this.room?this.room.topic:""},roomAvatar:function(){return this.room?this.room.avatar:""},roomIsEncrypted:function(){return!!this.room&&this.$matrix.matrixClient.isRoomEncrypted(this.room.roomId)},publicRoomLink:function(){return this.room&&"public"==this.roomJoinRule?this.$router.getRoomLink(this.room.getCanonicalAlias()||this.room.roomId):null},roomHistory:function(){return!!this.room&&this.room.shouldEncryptForInvitedMembers()}},watch:{room:{handler:function(e,t){this.updatePermissions()}},roomJoinRule:{handler:function(e,t){e&&t&&e!=t&&this.setRoomJoinRule(e)}}},methods:{getRoomJoinRule:function(){return this.$matrix.getRoomJoinRule(this.room)},updatePermissions:function(){if(this.room){this.roomJoinRule=this.getRoomJoinRule();var e=this.room.currentState.mayClientSendStateEvent("m.room.join_rules",this.$matrix.matrixClient)&&this.room.currentState.mayClientSendStateEvent("m.room.guest_access",this.$matrix.matrixClient);this.userCanChangeJoinRule=e,this.userCanPurgeRoom=e}else this.roomJoinRule=null,this.userCanChangeJoinRule=!1,this.userCanPurgeRoom=!1},roomInfoMixinOnEvent:function(e){e.getRoomId()===this.roomId&&("m.room.join_rules"!=e.getType()&&"m.room.guest_access"!=e.getType()||this.updatePermissions())}}}},2433:function(e,t,n){e.exports=n.p+"img/12_zomkyi_petsdog.4ebc01b3.png"},"254f":function(e,t,n){e.exports=n.p+"img/18_zomkyi_cryingagain.1297fda6.png"},2582:function(e,t,n){},2668:function(e,t,n){e.exports=n.p+"img/zom_ex1_03.23ce3ab4.png"},2757:function(e,t,n){"use strict";n("43b6")},"281b":function(e,t,n){},2883:function(e,t,n){},2920:function(e,t,n){"use strict";n("2883")},"2b99":function(e,t,n){},"2c30":function(e,t,n){e.exports=n.p+"img/av_walrus.3a9e78aa.png"},"2c71":function(e,t,n){"use strict";n("84b5")},"2e38":function(e,t,n){e.exports=n.p+"img/Singing.55bb6cb5.png"},"2f1c":function(e,t,n){e.exports=n.p+"img/av_zebra.2c4af008.png"},"2f9f":function(e,t,n){e.exports=n.p+"img/av_leopard.60f857fd.png"},3:function(e,t,n){e.exports=n("56d7")},3197:function(e,t,n){e.exports=n.p+"img/Sleeping.f56921ee.png"},"31e4":function(e,t,n){e.exports=n.p+"img/Yak.ba8929bb.png"},"329e":function(e,t,n){e.exports=n.p+"img/av_pangolin.366738bb.png"},3331:function(e,t,n){},3777:function(e,t,n){},3811:function(e,t,n){"use strict";n("65af")},"39d6":function(e,t,n){e.exports=n.p+"img/om-mani.97d1acba.png"},"3c0c":function(e,t,n){e.exports=n.p+"img/butter_lamp.82aaba98.png"},"3ca1":function(e,t,n){"use strict";n("a741")},"3cb7":function(e,t,n){e.exports=n.p+"img/Prostration.8c2f065b.png"},"3cdf":function(e,t,n){e.exports=n.p+"img/guthuk.9b30b47e.png"},"3e6e":function(e,t,n){e.exports=n.p+"img/zom_ex1_04.c56b0f37.png"},"3ed2":function(e,t,n){"use strict";n("ab89")},"3f41":function(e,t,n){e.exports=n.p+"img/3scared.9b10c055.png"},4:function(e,t){},"403a":function(e,t,n){e.exports=n.p+"img/av_polar bear.3e1fa612.png"},4060:function(e,t,n){},4162:function(e,t,n){},"41a4":function(e,t,n){"use strict";n("ddc5")},"42fe":function(e,t,n){e.exports=n.p+"img/losar-ox-year.ef21fd55.png"},"43b6":function(e,t,n){},"444f":function(e,t,n){e.exports=n.p+"img/12music.4ff4068a.png"},4451:function(e,t,n){},"44b9":function(e,t,n){"use strict";n("cb20")},4686:function(e,t,n){e.exports=n.p+"img/pema02.fd393e53.png"},"498d":function(e,t,n){e.exports=n.p+"img/5hearts.9a978a1a.png"},"49c5":function(e,t,n){},"4a86":function(e,t,n){e.exports=n.p+"img/prayer_wheel.bf678ecf.png"},"4c33":function(e,t,n){},"4f8a":function(e,t){e.exports="data:image/png;base64,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"},"4faa":function(e,t,n){},5:function(e,t){},5029:function(e,t,n){e.exports=n.p+"img/av_snake.4e6fc2ae.png"},"508f":function(e,t,n){e.exports=n.p+"img/lared-girl-final.493844fa.png"},5338:function(e,t,n){"use strict";n("230c")},"53ed":function(e,t,n){e.exports=n.p+"img/av_eagle.ffb9de18.png"},5605:function(e,t,n){e.exports=n.p+"img/pema10.a91106e9.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("99af"),n("a434");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("router-view")],1)],1)},r=[],a=(n("8a79"),n("ac1f"),n("5319"),n("db90")),s={name:"App",mounted:function(){"http"!=window.location.protocol||window.location.hostname.endsWith(".onion")?this.currentUser&&this.$matrix.login(this.currentUser).then((function(){console.log("Matrix client ready")})).catch((function(e){console.log("Error creating client",e)})):window.location.href=window.location.href.replace("http:","https:")},computed:{currentUser:function(){return this.$store.state.auth.user},title:function(){var e=this.$t(a.appName);return this.$matrix.notificationCount>0&&(e+=" ["+this.$matrix.notificationCount+"]"),this.$route.meta.title&&(e+="  - "+this.$route.meta.title),this.$route.meta.includeRoom&&(this.$matrix.currentRoom?e+=" - "+(this.$matrix.currentRoom.summary.info.title||this.$matrix.currentRoom.roomId):this.$matrix.currentRoomId&&(e+=" - "+this.$matrix.currentRoomId)),e}},watch:{title:function(e){document.title=e}}},c=s,l=(n("5c0b"),n("2877")),u=n("6544"),m=n.n(u),d=n("7496"),g=n("f6c4"),p=Object(l["a"])(c,i,r,!1,null,null,null),h=p.exports;m()(p,{VApp:d["a"],VMain:g["a"]});var f=n("f309");o["a"].use(f["a"]);var v=new f["a"]({icons:{iconfont:"md"}}),b=(n("d3b7"),n("2f62")),x=n("bfa9");o["a"].use(b["a"]);var _=function(e){var t;t=e.state.useLocalStorage?JSON.parse(window.localStorage.getItem("user")):JSON.parse(window.sessionStorage.getItem("user"));var n=t?{status:{loggedIn:!0},user:t}:{status:{loggedIn:!1},user:null};e.state.auth=n,e.subscribe((function(e,t){"setUser"!=e.type&&"setUseLocalStorage"!=e.type||(t.useLocalStorage?(window.localStorage.setItem("user",JSON.stringify(t.auth.user)),window.sessionStorage.removeItem("user")):(window.sessionStorage.setItem("user",JSON.stringify(t.auth.user)),window.localStorage.removeItem("user")))}))},y=new x["a"]({key:"settings",storage:localStorage,reducer:function(e){return e.useLocalStorage?{currentRoomId:e.currentRoomId}:{}}}),A=new x["a"]({key:"settings",storage:sessionStorage,reducer:function(e){return e.useLocalStorage?{}:{currentRoomId:e.currentRoomId}}}),w=null!=sessionStorage.getItem("user"),C=new b["a"].Store({state:{currentRoomId:null,auth:null,tempuser:null,useLocalStorage:!w},mutations:{loginSuccess:function(e,t){e.auth.status.loggedIn=!0,e.auth.user=t},loginFailure:function(e){e.auth.status.loggedIn=!1,e.auth.user=null},logout:function(e){e.auth.status.loggedIn=!1,e.auth.user=null},setCurrentRoomId:function(e,t){e.currentRoomId=t},setUser:function(e,t){e.auth.user=t},setTempUser:function(e,t){e.tempuser=JSON.stringify(t)},setUseLocalStorage:function(e,t){e.useLocalStorage=t}},actions:{login:function(e,t){var n=e.commit;return this._vm.$matrix.login(t).then((function(e){return n("loginSuccess",e),Promise.resolve(e)}),(function(e){return n("loginFailure"),Promise.reject(e)}))},logout:function(e){var t=e.commit;this._vm.$matrix.logout(),t("logout")}},getters:{storage:function(e){return e.useLocalStorage?window.localStorage:window.sessionStorage}},plugins:[y.plugin,A.plugin,_]}),I=(n("3ca3"),n("ddb0"),n("caad"),n("b0c0"),n("2ca0"),n("8c4f")),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pa-4"},[n("RoomList",{attrs:{showInvites:"",showCreate:"",title:e.$t("room.room_list_rooms"),invitesTitle:e.$t("room.room_list_invites")},on:{newroom:e.createRoom}}),n("v-btn",{staticClass:"outlined-button",attrs:{block:"",depressed:""},on:{click:function(t){return t.stopPropagation(),e.logout(t)}}},[e._v(e._s(e.$t("menu.logout")))]),e.loading?n("v-container",{staticStyle:{position:"absolute","background-color":"rgba(0,0,0,0.2)"},attrs:{fluid:"","fill-height":""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"text-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1):e._e()],1)},R=[],E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{staticClass:"room-list",attrs:{dense:""}},[e.showInvites&&e.$matrix.invites.length>0?n("div",{staticClass:"h4"},[e._v(e._s(e.invitesTitle))]):e._e(),e.showInvites?n("v-list-item-group",{attrs:{color:"primary"},model:{value:e.currentRoomId,callback:function(t){e.currentRoomId=t},expression:"currentRoomId"}},[n("v-slide-y-transition",{attrs:{group:""}},e._l(e.$matrix.invites,(function(t){return n("v-list-item",{key:t.roomId,attrs:{disabled:e.roomsProcessing[t.roomId],value:t.roomId}},[n("v-list-item-avatar",{attrs:{size:"40",color:"#e0e0e0"}},[n("v-img",{attrs:{src:t.avatar}})],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.name||t.summary.info.title))]),n("v-list-item-subtitle",[e._v(e._s(t.topic))])],1),n("v-list-item-action",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return n.stopPropagation(),e.acceptInvitation(t)}}},[n("v-icon",[e._v("check_circle")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(n){return n.stopPropagation(),e.rejectInvitation(t)}}},[n("v-icon",[e._v("cancel")])],1)],1)],1)})),1)],1):e._e(),n("div",{staticClass:"h4"},[e._v(e._s(e.title))]),n("v-list-item-group",{attrs:{color:"primary"},model:{value:e.currentRoomId,callback:function(t){e.currentRoomId=t},expression:"currentRoomId"}},[e.showCreate?n("v-list-item",{on:{click:function(t){return t.stopPropagation(),e.$emit("newroom")}}},[n("v-list-item-avatar",{attrs:{size:"40",color:"#e0e0e0"}},[n("v-img")],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.$t("menu.new_room")))])],1)],1):e._e(),e._l(e.$matrix.joinedRooms,(function(t){return n("v-list-item",{key:t.roomId,attrs:{value:t.roomId}},[n("v-list-item-avatar",{attrs:{size:"40",color:"#e0e0e0"}},[n("v-img",{attrs:{src:t.avatar}})],1),n("div",{staticClass:"room-list-notification-count"},[e._v(e._s(e.notificationCount(t)))]),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.summary.info.title))]),n("v-list-item-subtitle",[e._v(e._s(t.topic))])],1)],1)}))],2)],1)},S=[],T=n("d930"),P={name:"RoomList",props:{title:{type:String,default:"Rooms"},invitesTitle:{type:String,default:"Invites"},showInvites:{type:Boolean,default:!1},showCreate:{type:Boolean,default:!1}},data:function(){return{currentRoomId:null,roomsProcessing:{}}},methods:{notificationCount:function(e){return e.getUnreadNotificationCount("total")||0},acceptInvitation:function(e){var t=this;o["a"].set(this.roomsProcessing,e.roomId,!0),this.$matrix.matrixClient.joinRoom(e.roomId).then((function(n){t.$nextTick((function(){t.$navigation.push({name:"Chat",params:{roomId:T["a"].sanitizeRoomId(e.getCanonicalAlias()||e.roomId)}},-1)}))})).catch((function(e){console.error("Failed to accept invite: ",e)})).finally((function(){o["a"].delete(t.roomsProcessing,e.roomId)}))},rejectInvitation:function(e){var t=this;o["a"].set(this.roomsProcessing,e.roomId,!0),this.$matrix.leaveRoom(e.roomId).catch((function(e){console.error("Failed to reject invite: ",e)})).finally((function(){o["a"].delete(t.roomsProcessing,e.roomId)}))}},watch:{currentRoomId:function(){null!=this.currentRoomId&&(this.$emit("close"),this.$navigation.push({name:"Chat",params:{roomId:T["a"].sanitizeRoomId(this.currentRoomId)}},-1))}}},O=P,M=(n("edab"),n("fa65"),n("8336")),j=n("132d"),$=n("adda"),U=n("8860"),D=n("da13"),L=n("1800"),N=n("8270"),B=n("5d23"),z=n("1baa"),V=n("0789"),F=Object(l["a"])(O,E,S,!1,null,"38d69822",null),H=F.exports;m()(F,{VBtn:M["a"],VIcon:j["a"],VImg:$["a"],VList:U["a"],VListItem:D["a"],VListItemAction:L["a"],VListItemAvatar:N["a"],VListItemContent:B["a"],VListItemGroup:z["a"],VListItemSubtitle:B["b"],VListItemTitle:B["c"],VSlideYTransition:V["g"]});var W={components:{RoomList:H},computed:{loading:function(){return!this.$matrix.ready}},methods:{logout:function(){var e=this;this.$store.dispatch("logout"),this.$nextTick((function(){e.$navigation.push({path:"/login"},-1)}))},createRoom:function(){this.$navigation.push({name:"CreateRoom"})}}},J=W,Y=n("62ad"),G=n("a523"),Q=n("490a"),K=n("0fd9"),X=Object(l["a"])(J,k,R,!1,null,null,null),Z=X.exports;m()(X,{VBtn:M["a"],VCol:Y["a"],VContainer:G["a"],VProgressCircular:Q["a"],VRow:K["a"]});var q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-root fill-height d-flex flex-column",attrs:{"ma-0":"","pa-0":""}},[n("ChatHeader",{staticClass:"chat-header flex-grow-0 flex-shrink-0",on:{"header-click":function(t){return e.$refs.roomInfoSheet.open()}}}),n("div",{ref:"chatContainer",staticClass:"chat-content flex-grow-1 flex-shrink-1",staticStyle:{"overflow-x":"hidden","overflow-y":"auto"},on:{scroll:e.onScroll,click:e.closeContextMenusIfOpen}},[n("div",{ref:"messageOperationsStrut",staticClass:"message-operations-strut"},[e.selectedEvent&&e.showContextMenu?n("message-operations",{ref:"messageOperations",style:e.opStyle,attrs:{emojis:e.recentEmojis,event:e.selectedEvent},on:{close:function(t){e.showContextMenu=!1,e.showContextMenuAnchor=null},addreaction:e.addReaction,addquickreaction:e.addQuickReaction,addreply:function(t){return e.addReply(e.selectedEvent)},edit:function(t){return e.edit(e.selectedEvent)},redact:function(t){return e.redact(e.selectedEvent)},download:function(t){return e.download(e.selectedEvent)},more:e.showMoreMessageOperations}}):e._e()],1),n("div",{ref:"avatarOperationsStrut",staticClass:"avatar-operations-strut"},[e.selectedEvent&&e.showAvatarMenu?n("avatar-operations",{ref:"avatarOperations",style:e.avatarOpStyle,attrs:{room:e.room,event:e.selectedEvent},on:{close:function(t){e.showAvatarMenu=!1,e.showAvatarMenuAnchor=null},"start-private-chat":function(t){return e.startPrivateChat(t)}}}):e._e()],1),n("resize-observer",{ref:"chatContainerResizer",on:{notify:e.handleChatContainerResize}}),e.showCreatedRoomWelcomeHeader?n("CreatedRoomWelcomeHeader",{on:{close:e.closeCreateRoomWelcomeHeader}}):e._e(),e._l(e.events,(function(t,o){return n("div",{key:t.getId(),attrs:{eventId:t.getId()}},[e.showDayMarkerBeforeEvent(t)?n("div",{staticClass:"day-marker",attrs:{title:e.dayForEvent(t)}}):e._e(),t.isRelation()||t.isRedacted()||t.isRedaction()?e._e():n("div",{ref:t.getId(),refInFor:!0},[n("div",{staticStyle:{position:"relative","user-select":"none"},on:{touchstart:function(n){e.touchStart(n,t)},touchend:e.touchEnd,touchcancel:e.touchCancel,touchmove:e.touchMove}},[n(e.componentForEvent(t),{tag:"component",attrs:{room:e.room,event:t,nextEvent:e.events[o+1],reactions:e.timelineWindow._timelineSet.getRelationsForEvent(t.getId(),"m.annotation","m.reaction"),timelineSet:e.timelineWindow._timelineSet},on:{"send-quick-reaction":e.sendQuickReaction,"context-menu":function(t){return e.showContextMenuForEvent(t)},"own-avatar-clicked":e.viewProfile,"other-avatar-clicked":function(t){return e.showAvatarMenuForEvent(t)},download:function(n){return e.download(t)}}}),t.getId()==e.readMarker&&o<e.events.length-1?n("div",{staticClass:"read-marker",attrs:{title:e.$t("message.unread_messages")}}):e._e()],1)])])}))],2),e.room?n("v-container",{staticClass:"input-area-outer",attrs:{fluid:""}},[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.showScrollToEnd,expression:"showScrollToEnd"}],staticClass:"scroll-to-end",attrs:{fab:"",small:"",elevation:"0",color:"black"},on:{click:function(t){return t.stopPropagation(),e.scrollToEndOfTimeline(t)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("arrow_downward")])],1),n("v-row",{staticClass:"ma-0 pa-0"},[e.replyToEvent?n("div",[e._v(" "+e._s(e.$t("message.replying_to_event",{message:e.replyToEvent.getContent().body}))+" ")]):e._e(),n("div",{staticClass:"typing"},[e._v(" "+e._s(e.typingMembersString)+" ")])]),n("v-row",{staticClass:"input-area-inner align-center"},[n("v-col",{staticClass:"flex-grow-1 flex-shrink-1 ma-0 pa-0"},[n("v-textarea",{ref:"messageInput",staticClass:"input-area-text",attrs:{height:"undefined","full-width":"","auto-grow":"",rows:"1","no-resize":"",placeholder:e.$t("message.your_message"),"hide-details":"","background-color":"white"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),function(){e.sendCurrentTextMessage()}())}},model:{value:e.currentInput,callback:function(t){e.currentInput=t},expression:"currentInput"}})],1),e.editedEvent||e.replyToEvent?n("v-col",{staticClass:"input-area-button text-center flex-grow-0 flex-shrink-1"},[n("v-btn",{attrs:{fab:"",small:"",elevation:"0",color:"black"},on:{click:function(t){return t.stopPropagation(),e.cancelEditReply(t)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("cancel")])],1)],1):e._e(),!e.currentInput||0==e.currentInput.length||e.showRecorder?n("v-col",{staticClass:"input-area-button text-center flex-grow-0 flex-shrink-1"},[e.canRecordAudio?n("v-btn",{directives:[{name:"blur",rawName:"v-blur"},{name:"longTap",rawName:"v-longTap:250",value:[e.showRecordingUI,e.startRecording],expression:"[showRecordingUI, startRecording]",arg:"250"}],ref:"mic_button",staticClass:"mic-button",staticStyle:{"z-index":"10"},attrs:{fab:"",small:"",elevation:"0"}},[n("v-icon",{attrs:{color:e.showRecorder?"white":"black"}},[e._v("mic")])],1):n("v-btn",{directives:[{name:"blur",rawName:"v-blur"}],ref:"mic_button",staticClass:"mic-button",staticStyle:{"z-index":"10"},attrs:{fab:"",small:"",elevation:"0"},on:{click:function(t){t.stopPropagation(),e.showNoRecordingAvailableDialog=!0}}},[n("v-icon",{attrs:{color:e.showRecorder?"white":"black"}},[e._v("mic")])],1)],1):n("v-col",{staticClass:"input-area-button text-center flex-grow-0 flex-shrink-1"},[n("v-btn",{attrs:{fab:"",small:"",elevation:"0",color:"black",disabled:e.sendButtonDisabled},on:{click:function(t){return t.stopPropagation(),e.sendCurrentTextMessage(t)}}},[n("v-icon",{attrs:{color:"white"}},[e._v(e._s(e.editedEvent?"save":"arrow_upward"))])],1)],1),e.config.useShortCodeStickers?n("v-col",{staticClass:"input-area-button text-center flex-grow-0 flex-shrink-1"},[e.showRecorder?e._e():n("v-btn",{attrs:{icon:"",large:"",color:"black",disabled:e.attachButtonDisabled},on:{click:e.showStickerPicker}},[n("v-icon",{attrs:{large:""}},[e._v("face")])],1)],1):e._e(),n("v-col",{staticClass:"input-area-button text-center flex-grow-0 flex-shrink-1"},[n("label",{ref:"attachmentLabel",attrs:{icon:"",flat:""}},[e.showRecorder?e._e():n("v-btn",{attrs:{icon:"",large:"",color:"black",disabled:e.attachButtonDisabled},on:{click:e.showAttachmentPicker}},[n("v-icon",{attrs:{"x-large":""}},[e._v("add_circle_outline")])],1),n("input",{ref:"attachment",staticStyle:{display:"none"},attrs:{type:"file",name:"attachment",accept:"image/*|audio/*|video/*|application/pdf"},on:{change:function(t){return e.handlePickedAttachment(t)}}})],1)])],1),n("VoiceRecorder",{attrs:{micButtonRef:e.$refs.mic_button,ptt:e.showRecorderPTT,show:e.showRecorder},on:{close:function(t){e.showRecorder=!1},file:e.onVoiceRecording}})],1):e._e(),e.currentImageInputPath?n("div",[n("v-dialog",{staticClass:"ma-0 pa-0",attrs:{width:e.$vuetify.breakpoint.smAndUp?"50%":"85%"},model:{value:e.currentImageInputPath,callback:function(t){e.currentImageInputPath=t},expression:"currentImageInputPath"}},[n("v-card",{staticClass:"ma-0 pa-0"},[n("v-card-text",{staticClass:"ma-0 pa-2"},[e.currentImageInput&&e.currentImageInput.image?n("v-img",{staticStyle:{"max-height":"50vh","background-color":"#e2e2e2"},attrs:{"aspect-ratio":1,src:e.currentImageInput.image,contain:""}}):e._e(),n("div",[e._v(" file: "+e._s(e.currentImageInputPath.name)+" "),e.currentImageInput&&e.currentImageInput.scaled&&e.currentImageInput.useScaled?n("span",[e._v(" "+e._s(e.currentImageInput.scaledDimensions.width)+" x "+e._s(e.currentImageInput.scaledDimensions.height))]):e.currentImageInput&&e.currentImageInput.dimensions?n("span",[e._v(" "+e._s(e.currentImageInput.dimensions.width)+" x "+e._s(e.currentImageInput.dimensions.height))]):e._e(),e.currentImageInput&&e.currentImageInput.scaled&&e.currentImageInput.useScaled?n("span",[e._v(" ("+e._s(e.formatBytes(e.currentImageInput.scaledSize))+")")]):n("span",[e._v(" ("+e._s(e.formatBytes(e.currentImageInputPath.size))+")")]),e.currentImageInput&&e.currentImageInput.scaled?n("v-switch",{attrs:{label:e.$t("message.scale_image")},model:{value:e.currentImageInput.useScaled,callback:function(t){e.$set(e.currentImageInput,"useScaled",t)},expression:"currentImageInput.useScaled"}}):e._e()],1),e.currentSendError?n("div",[e._v(e._s(e.currentSendError))]):n("div",[e._v(e._s(e.currentSendProgress))])],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.cancelSendAttachment}},[e._v(e._s(e.$t("menu.cancel")))]),e.currentSendShowSendButton?n("v-btn",{attrs:{color:"primary",text:"",disabled:null!=e.currentSendOperation},on:{click:e.sendAttachment}},[e._v(e._s(e.$t("menu.send")))]):e._e()],1)],1)],1)],1):e._e(),n("MessageOperationsBottomSheet",{ref:"messageOperationsSheet"},[e.selectedEvent?n("MessageOperationsPicker",{attrs:{event:e.selectedEvent},on:{close:function(t){e.showEmojiPicker=!1},addreaction:e.addReaction,addquickreaction:e.addQuickReaction,addreply:function(t){return e.addReply(e.selectedEvent)},edit:function(t){return e.edit(e.selectedEvent)},redact:function(t){return e.redact(e.selectedEvent)},download:function(t){return e.download(e.selectedEvent)}}}):e._e(),n("VEmojiPicker",{ref:"emojiPicker",staticStyle:{width:"100%"},on:{select:e.emojiSelected}})],1),n("StickerPickerBottomSheet",{ref:"stickerPickerSheet",staticStyle:{"z-index":"10"},on:{selectSticker:e.sendSticker}}),!e.initialLoadDone||e.loading?n("v-container",{staticStyle:{position:"absolute","background-color":"rgba(0, 0, 0, 0.2)"},attrs:{fluid:"","fill-height":""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"text-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1):e._e(),n("RoomInfoBottomSheet",{ref:"roomInfoSheet"}),n("v-dialog",{staticClass:"ma-0 pa-0",attrs:{width:"80%"},model:{value:e.showNoRecordingAvailableDialog,callback:function(t){e.showNoRecordingAvailableDialog=t},expression:"showNoRecordingAvailableDialog"}},[n("v-card",[n("v-card-title",[e._v(e._s(e.$t("voice_recorder.not_supported_title")))]),n("v-card-text",[e._v(e._s(e.$t("voice_recorder.not_supported_text"))+" ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.showNoRecordingAvailableDialog=!1}}},[e._v(e._s(e.$t("menu.ok")))])],1)],1)],1)],1)},ee=[],te=(n("b680"),n("2532"),n("2b3d"),n("18a5"),n("c4f4")),ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-incoming",e._g(e._b({},"message-incoming",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble"},[e.inReplyToText?n("div",{staticClass:"original-message"},[n("div",{staticClass:"original-message-sender"},[e._v(" "+e._s(e.$t("message.user_said",{user:e.inReplyToSender||"Someone"}))+" ")]),n("div",{staticClass:"original-message-text",domProps:{innerHTML:e._s(e.linkify(e.$sanitize(e.inReplyToText)))}})]):e._e(),n("div",{staticClass:"message"},[n("span",{domProps:{innerHTML:e._s(e.linkify(e.$sanitize(e.messageText)))}}),e.event.replacingEventId()?n("span",{staticClass:"edit-marker"},[e._v(e._s(e.$t("edited")))]):e._e()])])])},oe=[],ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.messageClasses},[n("v-avatar",{ref:"avatar",staticClass:"avatar",attrs:{size:"32",color:"#ededed"},on:{click:function(t){return t.stopPropagation(),e.otherAvatarClicked(e.$refs.avatar.$el)}}},[e.messageEventAvatar(e.event)?n("img",{attrs:{src:e.messageEventAvatar(e.event)}}):n("span",{staticClass:"white--text headline"},[e._v(e._s(e.messageEventDisplayName(e.event).substring(0,1).toUpperCase()))])]),n("QuickReactions",{attrs:{event:e.event,reactions:e.reactions}}),e._t("default"),n("div",{ref:"opbutton",staticClass:"op-button"},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.showContextMenu(e.$refs.opbutton)}}},[n("v-icon",[e._v("more_vert")])],1)],1),e.showSenderAndTime?n("div",{staticClass:"senderAndTime"},[n("div",{staticClass:"sender"},[e._v(e._s(e.messageEventDisplayName(e.event)))]),n("div",{staticClass:"time"},[e._v(" "+e._s(e.formatTime(e.event.event.origin_server_ts))+" ")])]):e._e()],2)},re=[],ae=(n("1276"),n("a15b"),n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.reactions,expression:"reactions"}],staticClass:"quick-reaction-container"},e._l(e.reactionMap,(function(t,o){return n("span",{key:o,class:{"quick-reaction":!0,sent:t.includes(e.$matrix.currentUserId)},on:{mousedown:function(t){return e.onClickEmoji(o)}}},[e._v(" "+e._s(o)+" "),n("span",{staticClass:"quick-reaction-count"},[e._v(e._s(t.length))])])})),0)}),se=[],ce=n("b85c"),le={props:{event:{type:Object,default:function(){return{}}},reactions:{type:Object,default:function(){return null}}},data:function(){return{reactionMap:{}}},beforeDestroy:function(){this.reactions&&this.reactions.off("Relations.add",this.onAddRelation)},methods:{onClickEmoji:function(e){this.$bubble("send-quick-reaction",{reaction:e,event:this.event})},onAddRelation:function(e){this.processReactions()},processReactions:function(){var e={};if(this.reactions&&this.reactions._eventsCount>0){var t,n=this.reactions.getRelations(),o=Object(ce["a"])(n);try{for(o.s();!(t=o.n()).done;){var i=t.value,r=i.getRelation().key,a=i.getSender();if(e[r]){var s=e[r];s.includes(a)||s.push(a)}else e[r]=[a]}}catch(c){o.e(c)}finally{o.f()}}this.reactionMap=e}},watch:{reactions:{handler:function(e,t){t&&t.off("Relations.add",this.onAddRelation),e&&e.on("Relations.add",this.onAddRelation),this.processReactions()},immediate:!0}}},ue=le,me=(n("f220"),Object(l["a"])(ue,ae,se,!1,null,null,null)),de=me.exports,ge=n("74fe"),pe=n("1901");ge.options.defaults.className="link",ge.options.defaults.target={url:"_blank"};var he={components:{QuickReactions:de},props:{room:{type:Object,default:function(){return null}},event:{type:Object,default:function(){return{}}},nextEvent:{type:Object,default:function(){return null}},reactions:{type:Object,default:function(){return null}},timelineSet:{type:Object,default:function(){return null}}},data:function(){return{inReplyToEvent:null,inReplyToSender:null}},mounted:function(){var e=this.event.getWireContent()["m.relates_to"];if(e&&e["m.in_reply_to"]){var t=e["m.in_reply_to"].event_id;if(t&&this.timelineSet){var n=this.timelineSet.findEventById(t);n&&(this.inReplyToEvent=n,this.inReplyToSender=this.messageEventDisplayName(n))}}},computed:{incoming:function(){return this.event&&this.event.getSender()!=this.$matrix.currentUserId},showSenderAndTime:function(){if(this.nextEvent&&this.nextEvent.getSender()==this.event.getSender()){var e=this.nextEvent.event.origin_server_ts,t=this.event.event.origin_server_ts;return e-t<12e4}return!0},inReplyToText:function(){var e=this.event.getWireContent()["m.relates_to"];if(e&&e["m.in_reply_to"]){var t=this.event.getContent(),n=t.body.split("\n").reverse();while(n.length&&!n[0].startsWith("> "))n.shift();""===n[0]&&n.shift();var o=n.map((function(e){return e.replace(/^> (<.*> )?/g,"")})).reverse().join("\n");if(o)return o;if(this.inReplyToEvent){var i=this.inReplyToEvent.getContent();return i.body}return this.$t("fallbacks.original_text")}return null},messageText:function(){var e=this.event.getWireContent()["m.relates_to"];if(e&&e["m.in_reply_to"]){var t=this.event.getContent(),n=t.body.split("\n");while(n.length&&n[0].startsWith("> "))n.shift();return""===n[0]&&n.shift(),n.join("\n")}return this.event.getContent().body},messageClasses:function(){return{messageIn:!0,"from-admin":this.senderIsAdminOrModerator(this.event)}},userAvatar:function(){return this.$matrix.userAvatar?this.$matrix.matrixClient.mxcUrlToHttp(this.$matrix.userAvatar,80,80,"scale",!0):null},userAvatarLetter:function(){return this.$matrix.currentUser?(this.$matrix.currentUserDisplayName||this.$matrix.currentUserId.substring(1)).substring(0,1).toUpperCase():null}},methods:{ownAvatarClicked:function(){this.$emit("own-avatar-clicked",{event:this.event})},otherAvatarClicked:function(e){this.$emit("other-avatar-clicked",{event:this.event,anchor:e})},showContextMenu:function(e){this.$emit("context-menu",{event:this.event,anchor:e})},stateEventDisplayName:function(e){if(e.getSender()==this.$matrix.currentUserId)return this.$t("message.you");if(this.room){var t=this.room.getMember(e.getSender());if(t)return t.name}return e.getContent().displayname||e.event.state_key},messageEventDisplayName:function(e){return this.stateEventDisplayName(e)},messageEventAvatar:function(e){if(this.room){var t=this.room.getMember(e.getSender());if(t)return t.getAvatarUrl(this.$matrix.matrixClient.getHomeserverUrl(),40,40,"scale",!0)}return null},senderIsAdminOrModerator:function(e){if(this.room){var t=this.room.getMember(e.getSender());if(t)return t.powerLevel>0}return!1},formatTime:function(e){var t=new Date;t.setTime(e);var n=new Date;return t.getDate()==n.getDate()&&t.getMonth()==n.getMonth()&&t.getFullYear()==n.getFullYear()?t.toLocaleTimeString():t.toLocaleString()},linkify:function(e){return pe(e)}}},fe={mixins:[he]},ve=fe,be=(n("940a"),n("8212")),xe=Object(l["a"])(ve,ie,re,!1,null,null,null),_e=xe.exports;m()(xe,{VAvatar:be["a"],VBtn:M["a"],VIcon:j["a"]});var ye={extends:_e,components:{MessageIncoming:_e},mixins:[he]},Ae=ye,we=(n("902b"),Object(l["a"])(Ae,ne,oe,!1,null,null,null)),Ce=we.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-incoming",e._g(e._b({},"message-incoming",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble"},[e.inReplyToText?n("div",{staticClass:"original-message"},[n("div",{staticClass:"original-message-sender"},[e._v(" "+e._s(e.$t("message.user_said",{user:e.inReplyToSender||"Someone"}))+" ")]),n("div",{staticClass:"original-message-text",domProps:{innerHTML:e._s(e.linkify(e.$sanitize(e.inReplyToText)))}})]):e._e(),n("div",{staticClass:"message"},[n("span",[e._v(e._s(e.$t("file_prefix")))]),n("span",{staticStyle:{cursor:"pointer"},domProps:{innerHTML:e._s(e.linkify(e.$sanitize(e.messageText)))},on:{click:function(t){return t.stopPropagation(),e.$emit("download")}}}),e.event.replacingEventId()?n("span",{staticClass:"edit-marker"},[e._v(e._s(e.$t("edited")))]):e._e()])])])},ke=[],Re={extends:_e,components:{MessageIncoming:_e}},Ee=Re,Se=(n("2c71"),Object(l["a"])(Ee,Ie,ke,!1,null,null,null)),Te=Se.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-incoming",e._g(e._b({},"message-incoming",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble image-bubble"},[n("v-img",{ref:"image",attrs:{"aspect-ratio":16/9,src:e.src,cover:e.cover,contain:e.contain}})],1)])},Oe=[],Me={extends:_e,components:{MessageIncoming:_e},data:function(){return{src:null,cover:!0,contain:!1}},mounted:function(){var e=this,t=this.$refs.image.$el.clientWidth,n=9*t/16;T["a"].getThumbnail(this.$matrix.matrixClient,this.event,t,n).then((function(t){var n=e.event.getContent().info;n&&n.mimetype&&n.mimetype.startsWith("image/jp")?(e.cover=!0,e.contain=!1):(e.cover=!1,e.contain=!0),e.src=t})).catch((function(e){console.log("Failed to fetch thumbnail: ",e)}))},beforeDestroy:function(){if(this.src){var e=this.src;this.src=null,URL.revokeObjectURL(e)}}},je=Me,$e=(n("e7e5"),Object(l["a"])(je,Pe,Oe,!1,null,null,null)),Ue=$e.exports;m()($e,{VImg:$["a"]});var De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-incoming",e._g(e._b({},"message-incoming",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble audio-bubble"},[n("audio-player",{attrs:{src:e.src}},[e._v(e._s(e.$t("fallbacks.audio_file")))])],1)])},Le=[],Ne={data:function(){return{src:null,downloadProgress:null}},mounted:function(){var e=this;console.log("Mounted with event:",JSON.stringify(this.event.getContent())),T["a"].getAttachment(this.$matrix.matrixClient,this.event,(function(t){e.downloadProgress=t,console.log("Progress: "+t)})).then((function(t){e.src=t})).catch((function(e){console.log("Failed to fetch attachment: ",e)}))},beforeDestroy:function(){if(this.src){var e=this.src;this.src=null,URL.revokeObjectURL(e)}}},Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"audio-player d-flex flex-row",staticStyle:{"align-items":"center"}},[n("audio",{ref:"player",attrs:{src:e.src},on:{durationchange:e.updateDuration}},[e._t("default")],2),e.playing?n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.pause(t)}}},[n("v-icon",{attrs:{size:"20"}},[e._v("pause")])],1):n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.play(t)}}},[n("v-icon",{attrs:{size:"20"}},[e._v("play_arrow")])],1),n("div",{staticClass:"play-time",staticStyle:{flex:"1 0 80px"}},[e._v(" "+e._s(e.currentTime)+" / "+e._s(e.totalTime)+" ")]),n("v-slider",{staticClass:"play-progress",staticStyle:{flex:"1 1 100%",height:"30px"},attrs:{color:"currentColor","track-color":"#cccccc",min:"0",max:"100"},model:{value:e.playheadPercent,callback:function(t){e.playheadPercent=t},expression:"playheadPercent"}})],1)},ze=[],Ve={props:{src:{type:String,default:function(){return null}}},data:function(){return{player:null,duration:0,playPercent:0,playTime:0,playing:!1}},mounted:function(){var e=this;this.player=this.$refs.player,this.player.addEventListener("timeupdate",this.updateProgressBar),this.player.addEventListener("play",(function(){e.playing=!0})),this.player.addEventListener("pause",(function(){e.playing=!1})),this.player.addEventListener("ended",(function(){this.pause(),this.playing=!1}))},computed:{currentTime:function(){return T["a"].formatDuration(this.playTime)},totalTime:function(){return T["a"].formatDuration(this.duration)},playheadPercent:{get:function(){return this.playPercent},set:function(e){this.player.src&&(this.playPercent=e,this.player.currentTime=e/100*this.player.duration)}}},methods:{play:function(){this.player.src&&(this.player.paused?this.player.play():this.player.ended&&(this.player.currentTime=0,this.player.play()))},pause:function(){this.player.src&&this.player.pause()},updateProgressBar:function(){this.player.duration>0?this.playPercent=Math.floor(100/this.player.duration*this.player.currentTime):this.playPercent=0,this.playTime=1e3*this.player.currentTime},updateDuration:function(){this.duration=1e3*this.player.duration}}},Fe=Ve,He=(n("f613"),n("ba0d")),We=Object(l["a"])(Fe,Be,ze,!1,null,null,null),Je=We.exports;m()(We,{VBtn:M["a"],VIcon:j["a"],VSlider:He["a"]});var Ye={extends:_e,mixins:[Ne],components:{MessageIncoming:_e,AudioPlayer:Je}},Ge=Ye,Qe=(n("9cdd"),Object(l["a"])(Ge,De,Le,!1,null,null,null)),Ke=Qe.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-incoming",e._g(e._b({},"message-incoming",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble image-bubble"},[n("v-responsive",{attrs:{"aspect-ratio":16/9,src:e.src}},[n("video",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,controls:""}},[e._v(" "+e._s(e.$t("fallbacks.video_file"))+" ")]),e.downloadProgress?n("div",{staticClass:"download-overlay"},[n("div",{staticClass:"text-center download-text"},[e._v(" "+e._s(e.$t("message.download_progress",{percentage:e.downloadProgress}))+" ")])]):e._e()])],1)])},Ze=[],qe={extends:_e,components:{MessageIncoming:_e},mixins:[Ne]},et=qe,tt=(n("c302"),n("6b53")),nt=Object(l["a"])(et,Xe,Ze,!1,null,null,null),ot=nt.exports;m()(nt,{VResponsive:tt["a"]});var it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-incoming",e._g(e._b({},"message-incoming",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble sticker-bubble"},[n("v-img",{ref:"image",attrs:{"aspect-ratio":16/9,src:e.src,cover:e.cover,contain:e.contain}})],1)])},rt=[],at=n("d4ec"),st=n("bee2"),ct={ordering:[]},lt={};try{for(var ut=n("1b02").default,mt=ut.split("\n"),dt=0;dt<mt.length;dt++){var gt=mt[dt];gt&&gt.length>0&&!gt.startsWith("#")&&(ct[gt]=[],ct.ordering.push(gt))}}catch(La){}function pt(e){return e.keys().map((function(t){var n=t.split("/"),o=n[1],i=n[2].split(".")[0],r=e(t);void 0!==ct[o]&&(ct[o].push({image:r,name:i}),lt[":"+o+"-"+i+":"]=r)}))}pt(n("a28e"));var ht=function(){function e(){Object(at["a"])(this,e)}return Object(st["a"])(e,[{key:"isStickerShortcode",value:function(e){if(e&&e.startsWith(":")&&e.startsWith(":")&&e.length>=5){var t=this.getStickerImage(e);return void 0!=t&&null!=t}return!1}},{key:"getStickerShortcode",value:function(e,t){return":"+e+"-"+t.name+":"}},{key:"getPacks",value:function(){return ct.ordering}},{key:"getStickerImage",value:function(e){return e?e.length<5||!e.startsWith(":")||!e.endsWith(":")?null:lt[e]:null}},{key:"stickersInPack",value:function(e){return ct[e]}}]),e}(),ft=new ht,vt=ft,bt={extends:_e,components:{MessageIncoming:_e},data:function(){return{src:null,cover:!1,contain:!0}},mounted:function(){this.src=vt.getStickerImage(this.event.getContent().body)}},xt=bt,_t=(n("955c"),Object(l["a"])(xt,it,rt,!1,null,null,null)),yt=_t.exports;m()(_t,{VImg:$["a"]});var At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-outgoing",e._g(e._b({},"message-outgoing",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble"},[e.inReplyToText?n("div",{staticClass:"original-message"},[n("div",{staticClass:"original-message-sender"},[e._v(" "+e._s(e.$t("message.user_said",{user:e.inReplyToSender||"Someone"}))+" ")]),n("div",{staticClass:"original-message-text",domProps:{innerHTML:e._s(e.linkify(e.$sanitize(e.inReplyToText)))}})]):e._e(),n("div",{staticClass:"message"},[n("span",{domProps:{innerHTML:e._s(e.linkify(e.$sanitize(e.messageText)))}}),e.event.replacingEventId()?n("span",{staticClass:"edit-marker"},[e._v(e._s(e.$t("edited")))]):e._e()])])])},wt=[],Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messageOut"},[n("div",{ref:"opbutton",staticClass:"op-button"},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.showContextMenu(e.$refs.opbutton)}}},[n("v-icon",[e._v("more_vert")])],1)],1),n("QuickReactions",{attrs:{event:e.event,reactions:e.reactions}}),e._t("default"),n("v-avatar",{staticClass:"avatar",attrs:{size:"32",color:"#ededed"},on:{click:function(t){return t.stopPropagation(),e.ownAvatarClicked(t)}}},[e.userAvatar?n("img",{attrs:{src:e.userAvatar}}):n("span",{staticClass:"white--text headline"},[e._v(e._s(e.userAvatarLetter))])]),n("div",{staticClass:"senderAndTime"},[n("div",{staticClass:"time"},[e._v(" "+e._s(e.formatTime(e.event.event.origin_server_ts))+" ")]),n("div",{staticClass:"status"},[e._v(e._s(e.event.status))])])],2)},It=[],kt={mixins:[he]},Rt=kt,Et=(n("41a4"),Object(l["a"])(Rt,Ct,It,!1,null,null,null)),St=Et.exports;m()(Et,{VAvatar:be["a"],VBtn:M["a"],VIcon:j["a"]});var Tt={extends:St,components:{MessageOutgoing:St}},Pt=Tt,Ot=(n("e7c8"),Object(l["a"])(Pt,At,wt,!1,null,null,null)),Mt=Ot.exports,jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-outgoing",e._g(e._b({},"message-outgoing",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble"},[e.inReplyToText?n("div",{staticClass:"original-message"},[n("div",{staticClass:"original-message-sender"},[e._v(" "+e._s(e.$t("message.user_said",{user:e.inReplyToSender||"Someone"}))+" ")]),n("div",{staticClass:"original-message-text",domProps:{innerHTML:e._s(e.linkify(e.$sanitize(e.inReplyToText)))}})]):e._e(),n("div",{staticClass:"message"},[n("span",[e._v("File: ")]),n("span",{staticStyle:{cursor:"pointer"},domProps:{innerHTML:e._s(e.linkify(e.$sanitize(e.messageText)))},on:{click:function(t){return t.stopPropagation(),e.$emit("download")}}}),e.event.replacingEventId()?n("span",{staticClass:"edit-marker"},[e._v(e._s(e.$t("edited")))]):e._e()])])])},$t=[],Ut={extends:St,components:{MessageOutgoing:St}},Dt=Ut,Lt=(n("b9f6"),Object(l["a"])(Dt,jt,$t,!1,null,null,null)),Nt=Lt.exports,Bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-outgoing",e._g(e._b({},"message-outgoing",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble image-bubble"},[n("v-img",{ref:"image",attrs:{"aspect-ratio":16/9,src:e.src,cover:e.cover,contain:e.contain}})],1)])},zt=[],Vt={extends:St,components:{MessageOutgoing:St},data:function(){return{src:null,cover:!0,contain:!1}},mounted:function(){var e=this,t=this.$refs.image.$el.clientWidth,n=9*t/16;T["a"].getThumbnail(this.$matrix.matrixClient,this.event,t,n).then((function(t){var n=e.event.getContent().info;n&&n.mimetype&&n.mimetype.startsWith("image/jp")?(e.cover=!0,e.contain=!1):(e.cover=!1,e.contain=!0),e.src=t})).catch((function(e){console.log("Failed to fetch thumbnail: ",e)}))},beforeDestroy:function(){if(this.src){var e=this.src;this.src=null,URL.revokeObjectURL(e)}}},Ft=Vt,Ht=(n("7924"),Object(l["a"])(Ft,Bt,zt,!1,null,null,null)),Wt=Ht.exports;m()(Ht,{VImg:$["a"]});var Jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-outgoing",e._g(e._b({},"message-outgoing",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"audio-bubble"},[n("audio-player",{attrs:{src:e.src}},[e._v(e._s(e.$t("fallbacks.audio_file")))])],1)])},Yt=[],Gt={extends:St,components:{MessageOutgoing:St,AudioPlayer:Je},mixins:[Ne]},Qt=Gt,Kt=(n("6a42"),Object(l["a"])(Qt,Jt,Yt,!1,null,null,null)),Xt=Kt.exports,Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-outgoing",e._g(e._b({},"message-outgoing",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble image-bubble"},[n("v-responsive",{staticClass:"ma-0 pa-0",attrs:{"aspect-ratio":16/9}},[n("video",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,controls:""}},[e._v(" "+e._s(e.$t("fallbacks.video_file"))+" ")])])],1)])},qt=[],en={extends:St,components:{MessageOutgoing:St},mixins:[Ne]},tn=en,nn=(n("bed4"),Object(l["a"])(tn,Zt,qt,!1,null,null,null)),on=nn.exports;m()(nn,{VResponsive:tt["a"]});var rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("message-outgoing",e._g(e._b({},"message-outgoing",Object.assign({},e.$props,e.$attrs),!1),e.$listeners),[n("div",{staticClass:"bubble sticker-bubble"},[n("v-img",{ref:"image",attrs:{"aspect-ratio":16/9,src:e.src,cover:e.cover,contain:e.contain}})],1)])},an=[],sn={extends:St,components:{MessageOutgoing:St},data:function(){return{src:null,cover:!1,contain:!0}},mounted:function(){this.src=vt.getStickerImage(this.event.getContent().body)}},cn=sn,ln=(n("6877"),Object(l["a"])(cn,rn,an,!1,null,null,null)),un=ln.exports;m()(ln,{VImg:$["a"]});var mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messageJoin"},[e._v(" "+e._s(e.$t("message.user_joined",{user:e.stateEventDisplayName(e.event)}))+" ")])},dn=[],gn={mixins:[he]},pn=gn,hn=(n("2757"),Object(l["a"])(pn,mn,dn,!1,null,null,null)),fn=hn.exports,vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messageJoin"},[e._v(" "+e._s(e.$t("message.user_left",{user:e.stateEventDisplayName(e.event)}))+" ")])},bn=[],xn={mixins:[he]},_n=xn,yn=(n("ffff"),Object(l["a"])(_n,vn,bn,!1,null,null,null)),An=yn.exports,wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messageJoin"},[e._v(" "+e._s(e.$t("message.user_was_invited",{user:e.event.getContent().displayname||e.stateEventDisplayName(e.event)}))+" ")])},Cn=[],In={mixins:[he]},kn=In,Rn=(n("a826"),Object(l["a"])(kn,wn,Cn,!1,null,null,null)),En=Rn.exports,Sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messageJoin"},[e.displayNameChange?n("div",[e._v(" "+e._s(e.$t("message.user_changed_display_name",{user:e.changer,displayName:e.event.getContent().displayname}))+" ")]):e._e(),e.avatarChange?n("div",[e._v(" "+e._s(e.$t("message.user_changed_avatar",{user:e.changer}))+" ")]):e._e()])},Tn=[],Pn={mixins:[he],computed:{displayNameChange:function(){var e=this.event.getContent(),t=this.event.getPrevContent();return e.displayname!=t.displayname},avatarChange:function(){var e=this.event.getContent(),t=this.event.getPrevContent();return e.avatar_url!=t.avatar_url},changer:function(){return this.event.getSender()==this.$matrix.currentUserId?this.$t("message.you"):this.displayNameChange?this.event.getPrevContent().displayname:this.stateEventDisplayName(this.event)}}},On=Pn,Mn=(n("065a"),Object(l["a"])(On,Sn,Tn,!1,null,null,null)),jn=Mn.exports,$n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statusEvent"},[e._v(" "+e._s(e.$t("message.user_created_room",{user:e.stateEventDisplayName(e.event)}))+" ")])},Un=[],Dn={mixins:[he]},Ln=Dn,Nn=(n("3ca1"),Object(l["a"])(Ln,$n,Un,!1,null,null,null)),Bn=Nn.exports,zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statusEvent"},[e._v(" "+e._s(e.$t("message.user_aliased_room",{user:e.stateEventDisplayName(e.event),alias:e.event.getContent().alias}))+" ")])},Vn=[],Fn={mixins:[he]},Hn=Fn,Wn=(n("5c59"),Object(l["a"])(Hn,zn,Vn,!1,null,null,null)),Jn=Wn.exports,Yn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statusEvent"},[e._v(" "+e._s(e.$t("message.user_changed_room_name",{user:e.stateEventDisplayName(e.event),name:e.event.getContent().name}))+" ")])},Gn=[],Qn={mixins:[he]},Kn=Qn,Xn=(n("d034"),Object(l["a"])(Kn,Yn,Gn,!1,null,null,null)),Zn=Xn.exports,qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statusEvent"},[e._v(" "+e._s(e.$t("message.user_changed_room_topic",{user:e.stateEventDisplayName(e.event),topic:e.event.getContent().topic}))+" ")])},eo=[],to={mixins:[he]},no=to,oo=(n("2920"),Object(l["a"])(no,qn,eo,!1,null,null,null)),io=oo.exports,ro=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statusEvent"},[e._v(" "+e._s(e.$t("message.user_changed_room_avatar",{user:e.stateEventDisplayName(e.event)}))+" ")])},ao=[],so={mixins:[he]},co=so,lo=(n("ef8b"),Object(l["a"])(co,ro,ao,!1,null,null,null)),uo=lo.exports,mo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statusEvent"},[e._v(" "+e._s(e.$t("message.user_changed_room_history",{user:e.stateEventDisplayName(e.event),type:e.history(e.event)}))+" ")])},go=[],po={mixins:[he],methods:{history:function(e){var t=e.getContent().history_visibility;switch(t){case"world_readable":return this.$t("message.room_history_world_readable");case"shared":return this.$t("message.room_history_shared");case"invited":return this.$t("message.room_history_invited");case"joined":return this.$t("message.room_history_joined")}return t}}},ho=po,fo=(n("ac7e"),Object(l["a"])(ho,mo,go,!1,null,null,null)),vo=fo.exports,bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statusEvent"},[e._v(" "+e._s(e.$t("message.user_changed_join_rules",{user:e.stateEventDisplayName(e.event),type:e.joinRule(e.event)}))+" ")])},xo=[],_o={mixins:[he],methods:{joinRule:function(e){var t=e.getContent().join_rule;switch(t){case"invite":return this.$t("message.room_joinrule_invite");case"public":return this.$t("message.room_joinrule_public")}return t}}},yo=_o,Ao=(n("d2ea"),Object(l["a"])(yo,bo,xo,!1,null,null,null)),wo=Ao.exports,Co=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messageJoin"},[n("div",[e._v(" "+e._s(e.allChanges)+" ")])])},Io=[],ko=n("ade3"),Ro=(n("159b"),n("b64b"),{mixins:[he],computed:{allChanges:function(){var e=this,t=this.event.getContent(),n=this.event.getPrevContent();if(!n||!n.users||!t||!t.users)return"";var o=this.event.getContent().users_default||0,i=[];Object.keys(t.users).forEach((function(e){-1===i.indexOf(e)&&i.push(e)})),Object.keys(n.users).forEach((function(e){-1===i.indexOf(e)&&i.push(e)}));var r=[];return i.forEach((function(i){var a=n.users[i],s=t.users[i];s!==a&&r.push(e.$t("message.user_powerlevel_change_from_to",{user:i,powerOld:e.powerLevelString(a,o),powerNew:e.powerLevelString(s,o)}))})),r.length?this.$t("message.room_powerlevel_change",{user:this.changer,changes:r.join(", ")}):""},changer:function(){return this.event.getSender()==this.$matrix.currentUserId?this.$t("message.you"):this.event.sender?this.event.sender.name:this.event.getSender()}},methods:{powerLevelString:function(e,t){var n,o=(n={undefined:this.$t("power_level.default"),0:this.$t("power_level.restricted")},Object(ko["a"])(n,t,this.$t("power_level.default")),Object(ko["a"])(n,50,this.$t("power_level.moderator")),Object(ko["a"])(n,100,this.$t("power_level.admin")),n);return o[e]?o[e]:this.$t("power_level.custom",{level:e})}}}),Eo=Ro,So=(n("0da0"),Object(l["a"])(Eo,Co,Io,!1,null,null,null)),To=So.exports,Po=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statusEvent"},[e._v(" "+e._s(e.openToGuests?e.$t("message.user_changed_guest_access_open",{user:e.stateEventDisplayName(e.event)}):e.$t("message.user_changed_guest_access_closed",{user:e.stateEventDisplayName(e.event)}))+" ")])},Oo=[],Mo={mixins:[he],computed:{openToGuests:function(){var e=this.event.getContent().guest_access;return!e||"forbidden"!=e}}},jo=Mo,$o=(n("7541"),Object(l["a"])(jo,Po,Oo,!1,null,null,null)),Uo=$o.exports,Do=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statusEvent"},[e._v(" "+e._s(e.$t("message.user_encrypted_room",{user:e.stateEventDisplayName(e.event)}))+" ")])},Lo=[],No={mixins:[he]},Bo=No,zo=(n("56fb"),Object(l["a"])(Bo,Do,Lo,!1,null,null,null)),Vo=zo.exports,Fo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statusEvent"},[e._v("Event: "+e._s(e.event.getType()))])},Ho=[],Wo={mixins:[he]},Jo=Wo,Yo=(n("3811"),Object(l["a"])(Jo,Fo,Ho,!1,null,null,null)),Go=Yo.exports,Qo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"message-operations":!0,incoming:e.incoming,outgoing:!e.incoming}},[e._l(e.emojis,(function(t,o){return[o<e.maxRecents?n("v-btn",{key:t.data,staticClass:"ma-0 pa-0",attrs:{icon:""},on:{click:function(n){return n.stopPropagation(),e.addQuickReaction(t.data)}}},[n("span",{staticClass:"recent-emoji"},[e._v(e._s(t.data))])]):e._e()]})),e.incoming?n("v-btn",{staticClass:"ma-0 pa-0",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.addReply(t)}}},[n("v-icon",[e._v("reply")])],1):e._e(),n("v-btn",{staticClass:"ma-0 pa-0",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.more(t)}}},[n("v-icon",[e._v("more_horiz")])],1)],2)},Ko=[],Xo={computed:{isEditable:function(){return!this.incoming&&"m.text"==this.event.getContent().msgtype},isDownloadable:function(){var e=this.event.getContent().msgtype;return["m.video","m.audio","m.image","m.file"].includes(e)},isRedactable:function(){var e=this.$matrix.matrixClient.getRoom(this.event.getRoomId());return!!(e&&e.currentState&&e.currentState.maySendRedactionForEvent(this.event,this.$matrix.currentUserId))}},methods:{addReaction:function(){this.$emit("close"),this.$emit("addreaction",{event:this.event})},addQuickReaction:function(e){this.$emit("close"),this.$emit("addquickreaction",{event:this.event,emoji:e})},addReply:function(){this.$emit("close"),this.$emit("addreply",{event:this.event})},edit:function(){this.$emit("close"),this.$emit("edit",{event:this.event})},redact:function(){this.$emit("close"),this.$emit("redact",{event:this.event})},download:function(){this.$emit("close"),this.$emit("download",{event:this.event})},more:function(){this.$emit("close"),this.$emit("more",{event:this.event})}}},Zo={mixins:[he,Xo],data:function(){return{maxRecents:5}},props:{emojis:{type:Array,default:function(){return[]}}},watch:{emojis:{immediate:!0,handler:function(e,t){console.log("Emojis changed",e,t)}}}},qo=Zo,ei=(n("9c37"),Object(l["a"])(qo,Qo,Ko,!1,null,null,null)),ti=ei.exports;m()(ei,{VBtn:M["a"],VIcon:j["a"]});var ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"message-operations-picker":!0,incoming:e.incoming,outgoing:!e.incoming}},[n("v-container",{attrs:{fluid:""}},[n("v-row",[e.incoming?n("v-col",[n("v-btn",{staticClass:"ma-0 pa-0",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.addReply(t)}}},[n("v-icon",[e._v("reply")])],1),n("div",[e._v(e._s(e.$t("menu.reply")))])],1):e._e(),e.isEditable?n("v-col",[n("v-btn",{staticClass:"ma-0 pa-0",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.edit(t)}}},[n("v-icon",[e._v("edit")])],1),n("div",[e._v(e._s(e.$t("menu.edit")))])],1):e._e(),e.isRedactable?n("v-col",[n("v-btn",{staticClass:"ma-0 pa-0",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.redact(t)}}},[n("v-icon",[e._v("delete")])],1),n("div",[e._v(e._s(e.$t("menu.delete")))])],1):e._e(),e.isDownloadable?n("v-col",[n("v-btn",{staticClass:"ma-0 pa-0",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.download(t)}}},[n("v-icon",[e._v("get_app")])],1),n("div",[e._v(e._s(e.$t("menu.download")))])],1):e._e()],1)],1)],1)},oi=[],ii={mixins:[he,Xo]},ri=ii,ai=(n("819a"),Object(l["a"])(ri,ni,oi,!1,null,null,null)),si=ai.exports;m()(ai,{VBtn:M["a"],VCol:Y["a"],VContainer:G["a"],VIcon:j["a"],VRow:K["a"]});var ci=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"avatar-operations":!0,incoming:e.incoming,outgoing:!e.incoming}},[e.incoming?n("v-btn",{staticClass:"ma-0 pa-0",attrs:{text:""},on:{click:function(t){return t.stopPropagation(),e.startPrivateChat(t)}}},[e._v(e._s(e.$t("menu.start_private_chat")))]):e._e()],1)},li=[],ui={mixins:[he],mounted:function(){this.room&&this.event&&this.$matrix.isDirectRoomWith(this.room,this.event.getSender())&&this.$emit("close")},methods:{startPrivateChat:function(){this.$emit("close"),this.$emit("start-private-chat",{event:this.event})}}},mi=ui,di=(n("a549"),Object(l["a"])(mi,ci,li,!1,null,null,null)),gi=di.exports;m()(di,{VBtn:M["a"]});var pi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.room?n("v-container",{attrs:{fluid:""}},[n("v-row",{staticClass:"chat-header-row flex-nowrap"},[n("v-col",{staticClass:"chat-header-members text-start ma-0 pa-0",staticStyle:{overflow:"hidden",cursor:"pointer"},attrs:{cols:"auto"},on:{click:function(t){return t.stopPropagation(),e.onHeaderClicked(t)}}},[n("v-avatar",{staticClass:"mr-2",attrs:{size:"40"}},[n("v-img",{attrs:{src:e.room.avatar}})],1)],1),n("v-col",{staticClass:"ma-0 pa-0 flex-shrink-1 flex-nowrap",staticStyle:{overflow:"hidden",cursor:"pointer"},on:{click:function(t){return t.stopPropagation(),e.onHeaderClicked(t)}}},[n("div",{staticClass:"d-flex flex-nowrap room-name-inline"},[e._v(e._s(e.room.summary.info.title)+" ")]),n("div",{staticClass:"num-members"},[e._v(e._s(e.$tc("room.members",e.memberCount)))])]),n("v-col",{staticClass:"text-end ma-0 pa-0",attrs:{cols:"auto"}},[n("v-btn",{staticClass:"leave-button",attrs:{text:""},on:{click:function(t){return t.stopPropagation(),e.leaveRoom(t)}}},[e._v(e._s(e.$t("room.leave")))])],1)],1),n("LeaveRoomDialog",{attrs:{show:e.showLeaveConfirmation,room:e.room},on:{close:function(t){e.showLeaveConfirmation=!1}}})],1):e._e()},hi=[],fi=n("dd2a"),vi={name:"ChatHeader",components:{LeaveRoomDialog:fi["a"]},data:function(){return{memberCount:null,showLeaveConfirmation:!1}},mounted:function(){this.$matrix.on("Room.timeline",this.onEvent),this.updateMemberCount()},destroyed:function(){this.$matrix.off("Room.timeline",this.onEvent)},computed:{room:function(){return this.$matrix.currentRoom}},watch:{room:{handler:function(e,t){this.memberCount=e?e.getJoinedMemberCount():null}}},methods:{onEvent:function(e){e.getRoomId()===this.roomId&&"m.room.member"==e.getType()&&this.updateMemberCount()},onHeaderClicked:function(){this.$emit("header-click",{event:this.event})},updateMemberCount:function(){this.room?this.memberCount=this.room.getJoinedMemberCount():this.memberCount=0},leaveRoom:function(){this.showLeaveConfirmation=!0}}},bi=vi,xi=(n("ba1e"),Object(l["a"])(bi,pi,hi,!1,null,null,null)),_i=xi.exports;m()(xi,{VAvatar:be["a"],VBtn:M["a"],VCol:Y["a"],VContainer:G["a"],VImg:$["a"],VRow:K["a"]});var yi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"grow",mode:"out-in"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"vrroot",class:{"voice-recorder":!0,ptt:e.ptt,row:!e.ptt}},[e.ptt?e._e():n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-row",{staticClass:"mt-3",attrs:{align:"center"}},[n("v-col",{attrs:{cols:"4",align:"center"}},[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.state==e.states.RECORDED,expression:"state == states.RECORDED"}],attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.redo(t)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("undo")])],1)],1),n("v-col",{attrs:{cols:"4",align:"center"}},[e.state==e.states.RECORDING?n("v-btn",{staticStyle:{"background-color":"white",padding:"30px"},attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.pauseRecording(t)}}},[n("v-icon",{attrs:{color:"black"}},[e._v("stop")])],1):e.state==e.states.RECORDED?n("v-btn",{staticStyle:{"background-color":"#3ae17d",padding:"30px"},attrs:{icon:"",disabled:!e.recordedFile},on:{click:function(t){return t.stopPropagation(),e.send(t)}}},[n("v-icon",{attrs:{color:"black"}},[e._v("arrow_upward")])],1):n("v-btn",{staticStyle:{"background-color":"red",padding:"30px"},attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.startRecording(t)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("fiber_manual_record")])],1)],1),n("v-col",{attrs:{cols:"4",align:"center"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.cancelRecording(t)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("close")])],1)],1)],1)],1),n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"recording-time"},[e._v(" "+e._s(e.recordingTime)+" ")])]),e.ptt?n("v-col",{attrs:{cols:"6"}},[n("div",{staticClass:"swipe-info"},[e._v("<< "+e._s(e.$t("voice_recorder.swipe_to_cancel")))])]):e._e()],1)],1),n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.willCancel?n("div",{staticClass:"will-cancel",staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0"}},[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"3"}},[n("v-icon",{attrs:{color:"white"}},[e._v("delete_outline")])],1),n("v-col",{attrs:{cols:"6"}},[n("div",{staticClass:"swipe-info"},[e._v(e._s(e.$t("voice_recorder.release_to_cancel")))])])],1)],1)],1):e._e()]),n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.recordingLocked?n("div",{staticClass:"locked",staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0"}},[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"recording-time"},[e._v(" "+e._s(e.recordingTime)+" ")])]),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{staticClass:"swipe-info",attrs:{text:""},on:{click:function(t){return t.stopPropagation(),e.cancelRecording(t)}}},[e._v(e._s(e.$t("menu.cancel")))])],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{staticClass:"swipe-info",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.stopRecording(t)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("stop")])],1)],1)],1)],1)],1):e._e()]),e.state==e.states.ERROR?n("div",{staticClass:"error",staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0"}},[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-row",{attrs:{align:"center"}},[n("v-col",[n("div",{staticClass:"swipe-info"},[e._v(" "+e._s(e.errorMessage||e.$t("voice_recorder.failed_to_record"))+" ")])]),n("v-col",{attrs:{align:"right"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.cancelRecording(t)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("close")])],1)],1)],1)],1)],1):e._e(),n("VoiceRecorderLock",{directives:[{name:"show",rawName:"v-show",value:e.state==e.states.RECORDING&&e.ptt,expression:"state == states.RECORDING && ptt"}],style:e.lockButtonStyle,attrs:{isLocked:e.recordingLocked}})],1)])},Ai=[],wi=n("1da1"),Ci=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"vr_lock",class:{"voice-recorder-lock":!0,locked:e.isLocked}},[n("div",{class:{thumb:!0,locked:e.isLocked}})])])}),Ii=[],ki={name:"VoiceRecorderLock",props:{isLocked:{type:Boolean,default:function(){return!1}}}},Ri=ki,Ei=(n("21ef"),Object(l["a"])(Ri,Ci,Ii,!1,null,null,null)),Si=Ei.exports,Ti=n("a9ee"),Pi=n.n(Ti),Oi=n("bea0"),Mi=n.n(Oi),ji={INITIAL:"intial",RECORDING:"recording",RECORDED:"recorded",ERROR:"error"};n("121f");var $i={name:"VoiceRecorder",components:{VoiceRecorderLock:Si},props:{show:{type:Boolean,default:function(){return!1}},ptt:{type:Boolean,default:function(){return!1}},micButtonRef:{type:Object,default:function(){return null}}},data:function(){return{willCancel:!1,startCoordinateX:null,startCoordinateY:null,states:ji,state:ji.INITIAL,recordStartedAt:null,recordingTime:String.fromCharCode(160),recordTimer:null,recordingLocked:!1,recordedFile:null,errorMessage:null}},watch:{micButtonRef:function(e){if(e){var t=e.$el.getBoundingClientRect(),n=t.left,o=t.right-t.left;t=this.$refs.vrroot.parentElement.getBoundingClientRect();var i=t.right-t.left;document.documentElement.style.setProperty("--v-mic-button-left",n+"px"),document.documentElement.style.setProperty("--v-mic-button-width",o+"px"),document.documentElement.style.setProperty("--v-mic-button-container-width",i+"px");var r=o/i;document.documentElement.style.setProperty("--v-mic-button-initial-scale",r);var a=n+o/2-i/2;document.documentElement.style.setProperty("--v-mic-button-initial-translate",a+"px")}},show:function(e){e?(this.state=ji.INITIAL,this.errorMessage=null,this.recordedFile=null,this.ptt?(document.addEventListener("mouseup",this.mouseUp,!1),document.addEventListener("mousemove",this.mouseMove,!1),document.addEventListener("touchend",this.mouseUp,!1),document.addEventListener("touchmove",this.mouseMove,!1),this.startRecording()):(console.log("Not PTT"),this.micButtonRef.$el.style.display="none")):(document.removeEventListener("mouseup",this.mouseUp,!1),document.removeEventListener("mousemove",this.mouseMove,!1),document.removeEventListener("touchend",this.mouseUp,!1),document.removeEventListener("touchmove",this.mouseMove,!1),this.startCoordinateX=null,this.startCoordinateY=null,this.willCancel=!1,this.startCoordinateX=null,this.startCoordinateY=null,this.recordingLocked=!1,this.micButtonRef.$el.style.display="block")}},computed:{lockButtonStyle:function(){var e=0,t=20;if(this.micButtonRef){var n=this.micButtonRef.$el.getBoundingClientRect();e=n.left,t=n.right-n.left}var o="position:absolute;top:-50px;left:"+e+"px;width:"+t+"px;height:40px";return o}},methods:{close:function(){this.stopRecordTimer(),this.recordingTime=String.fromCharCode(160),this.$emit("close")},mouseUp:function(e){document.removeEventListener("mouseup",this.mouseUp,!1),document.removeEventListener("mousemove",this.mouseMove,!1),document.removeEventListener("touchend",this.mouseUp,!1),document.removeEventListener("touchmove",this.mouseMove,!1),this.state==ji.RECORDING?this.recordingLocked||(this.willCancel?this.cancelRecording():this.stopRecording()):this.cancelRecording()},mouseMove:function(e){var t=e.clientX,n=e.clientY;e.touches&&e.touches.length>0&&(t=e.touches[0].clientX,n=e.touches[0].clientY),this.startCoordinateX||(this.startCoordinateX=t,this.startCoordinateY=n),this.willCancel=t<this.startCoordinateX-30,n<this.startCoordinateY-30&&!this.willCancel&&(this.recordingLocked=!0),e.preventDefault(),e.stopPropagation()},startRecording:function(){var e=this,t={audio:{channelCount:1,sampleRate:16e3,echoCancellation:!1,autoGainControl:!0,noiseSuppression:!0,volume:1},video:!1};navigator.mediaDevices.getUserMedia(t).then((function(t){e.recorder=Pi()(t,{type:"audio",mimeType:"audio/webm",sampleRate:16e3,desiredSampRate:16e3,numberOfAudioChannels:1}),e.recorder.startRecording(),e.state=ji.RECORDING,e.recordStartedAt=Date.now(),e.startRecordTimer()})).catch((function(t){console.error(t),t&&"NotAllowedError"==t.name&&(e.errorMessage=t.message),e.state=ji.ERROR}))},cancelRecording:function(){this.state=ji.INITIAL,this.recorder&&(this.recorder.stopRecording(),this.recorder.destroy(),this.recorder=null),this.stopRecordTimer(),this.recordingTime=String.fromCharCode(160),this.close()},pauseRecording:function(){this.state=ji.RECORDED,this.stopRecordTimer(),this.getFile(!1)},stopRecording:function(){this.state=ji.RECORDED,this.stopRecordTimer(),this.recordingTime=String.fromCharCode(160),this.close(),this.getFile(!0)},redo:function(){this.state=ji.INITIAL,this.recordedFile=null,this.recordingTime=String.fromCharCode(160)},send:function(){this.$emit("file",{file:this.recordedFile})},getFile:function(e){var t=this,n=Date.now()-this.recordStartedAt;this.recorder.stopRecording((function(){t.correctMetadata(t.recorder.getBlob(),n).then((function(n){t.recordedFile=new File([n],T["a"].formatRecordStartTime(t.recordStartedAt)+".webm",{type:n.type,lastModified:Date.now()}),e&&t.send()}))}))},startRecordTimer:function(){var e=this;this.stopRecordTimer(),this.recordingTime=String.fromCharCode(160),this.recordTimer=setInterval((function(){var t=Date.now();e.recordingTime=T["a"].formatRecordDuration(t-e.recordStartedAt)}),500)},stopRecordTimer:function(){this.recordTimer&&(clearInterval(this.recordTimer),this.recordTimer=null)},correctMetadata:function(e,t){return Object(wi["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,o){try{Mi()(e,t,(function(t){var o=new Blob([t],{type:e.type});n(o)}))}catch(i){console.error(i),o(i)}})));case 1:case"end":return n.stop()}}),n)})))()}}},Ui=$i,Di=(n("decf"),n("60c0"),Object(l["a"])(Ui,yi,Ai,!1,null,null,null)),Li=Di.exports;m()(Di,{VBtn:M["a"],VCol:Y["a"],VContainer:G["a"],VIcon:j["a"],VRow:K["a"]});var Ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BottomSheet",{ref:"sheet",staticClass:"room-info-bottom-sheet"},[n("div",{ref:"roomInfoSheetContent",staticClass:"room-info-sheet"},[n("div",{staticClass:"text-center current-room"},[n("v-avatar",{staticClass:"room-avatar"},[e.roomAvatar?n("v-img",{attrs:{src:e.roomAvatar}}):n("span",{staticClass:"white--text headline"},[e._v(e._s(e.roomName.substring(0,1).toUpperCase()))])],1),n("div",{staticClass:"h4"},[e._v(e._s(e.$t("room_info_sheet.this_room")))]),n("div",{staticClass:"h2"},[e._v(e._s(e.roomName))]),n("v-btn",{staticClass:"filled-button",attrs:{height:"20px",color:"black"},on:{click:function(t){return t.stopPropagation(),e.showDetails(t)}}},[e._v(e._s(e.$t("room_info_sheet.view_details")))])],1),n("room-list",{attrs:{title:"Other groups",showCreate:!0},on:{close:e.close,newroom:e.createRoom}})],1)])},Bi=[],zi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"sheet",staticClass:"bottom-sheet",style:"closed"==e.state?{"pointer-events":"none"}:{}},[n("v-fade-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:"closed"!=e.state,expression:"state != 'closed'"}],staticClass:"bottom-sheet-bg",on:{click:function(t){return t.stopPropagation(),e.onBackgroundClick(t)}}})]),n("div",{ref:"pan",staticClass:"bottom-sheet-content",style:{top:(e.isMove?e.y:e.calcY())+"px"},attrs:{"data-state":e.isMove?"move":e.state}},[e._m(0),n("div",{staticStyle:{position:"absolute",top:"20px",left:"0",right:"0",bottom:"0","overflow-y":"auto",padding:"20px"}},[e._t("default")],2)])],1)},Vi=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bottom-sheet-handle"},[n("div",{staticClass:"bottom-sheet-handle-decoration"})])}],Fi=(n("a9e3"),n("c8b5")),Hi=n.n(Fi),Wi={props:{openY:{type:Number,default:.1},halfY:{type:Number,default:.5},defaultState:{type:String,default:"closed"}},data:function(){return{mc:null,y:0,startY:0,isMove:!1,state:this.defaultState,rect:{}}},mounted:function(){var e=this;window.onresize=function(){e.rect=e.$refs.sheet.getBoundingClientRect()},this.rect=this.$refs.sheet.getBoundingClientRect(),this.mc=new Hi.a(this.$refs.pan),this.mc.get("pan").set({direction:Hi.a.DIRECTION_ALL});var t=this;this.mc.on("panup pandown",(function(e){t.y=e.center.y-16})),this.mc.on("panstart",(function(e){t.startY=e.center.y,t.isMove=!0})),this.mc.on("panend",(function(e){switch(t.isMove=!1,t.state){case"small":t.startY-e.center.y>120&&(t.state="open"),t.startY-e.center.y<-50&&(t.state="closed");break;case"open":t.startY-e.center.y<-120&&(t.state="small");break}}))},beforeDestroy:function(){this.mc.destroy(),window.onresize=null},methods:{calcY:function(){switch(this.state){case"closed":return this.rect.height;case"open":return this.rect.height*this.openY;case"small":return this.rect.height*this.halfY;default:return this.y}},open:function(){this.setState("small")},close:function(){this.setState("closed")},setState:function(e){this.state=e},onBackgroundClick:function(){"open"==this.state?this.setState("small"):this.setState("closed")}}},Ji=Wi,Yi=(n("5885"),Object(l["a"])(Ji,zi,Vi,!1,null,"3693185f",null)),Gi=Yi.exports;m()(Yi,{VFadeTransition:V["d"]});var Qi=n("241d"),Ki={name:"RoomInfoBottomSheet",mixins:[Qi["a"]],components:{BottomSheet:Gi,RoomList:H},methods:{open:function(){this.$refs.sheet.open()},close:function(){this.$refs.sheet.close()},showDetails:function(){this.close(),this.$navigation.push({name:"RoomInfo"})},createRoom:function(){this.close(),this.$navigation.push({name:"CreateRoom"})}}},Xi=Ki,Zi=(n("9eba"),Object(l["a"])(Xi,Ni,Bi,!1,null,null,null)),qi=Zi.exports;m()(Zi,{VAvatar:be["a"],VBtn:M["a"],VImg:$["a"]});var er=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"created-room-welcome-header"},[n("div",{staticClass:"h4"},[e._v(e._s(e.$t("room_welcome.welcome")))]),n("div",{staticClass:"mt-2"},[e._v(e._s(e.$t("room_welcome.info")))]),e.roomIsEncrypted?n("div",{staticClass:"mt-2"},[e._v(" "+e._s(e.$t("room_welcome.encrypted"))+" ")]):e._e(),e.roomHistoryDescription?n("div",{staticClass:"mt-2"},[e._v(" "+e._s(e.roomHistoryDescription)+" ")]):e._e(),"public"==e.roomJoinRule?n("div",{staticClass:"mt-2"},[n("i18n",{attrs:{path:"room_welcome.join_public",tag:"span"},scopedSlots:e._u([{key:"link",fn:function(){return[n("a",{attrs:{href:e.publicRoomLink}},[e._v(e._s(e.publicRoomLink))])]},proxy:!0}],null,!1,1085150611)})],1):"invite"==e.roomJoinRule?n("div",{staticClass:"mt-2"},[e._v(" "+e._s(e.$t("room_welcome.join_invite"))+" ")]):e._e(),n("div",{staticClass:"mt-2"},[e._v(e._s(e.$t("room_welcome.info_permissions")))]),n("div",{staticClass:"text-right"},[n("v-btn",{attrs:{text:""},on:{click:function(t){return t.stopPropagation(),e.$emit("close")}}},[e._v(e._s(e.$t("room_welcome.got_it")))])],1)])},tr=[],nr={name:"CreatedRoomWelcomeHeader",mixins:[Qi["a"]],computed:{roomHistoryDescription:function(){var e=this.$matrix.getRoomHistoryVisibility(this.room);switch(e){case"world_readable":return this.$t("room_welcome.room_history_is",{type:this.$t("message.room_history_world_readable")});case"shared":return this.$t("room_welcome.room_history_is",{type:this.$t("message.room_history_shared")});case"invited":return this.$t("room_welcome.room_history_is",{type:this.$t("message.room_history_invited")});case"joined":return this.$t("room_welcome.room_history_is",{type:this.$t("message.room_history_joined")})}return null}}},or=nr,ir=(n("98614"),Object(l["a"])(or,er,tr,!1,null,null,null)),rr=ir.exports;m()(ir,{VBtn:M["a"]});var ar=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-operations-bottom-sheet"},[n("v-fade-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.closed,expression:"!closed"}],staticStyle:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0","background-color":"rgba(0, 0, 0, 0.3)"},on:{click:function(t){return t.stopPropagation(),e.backgroundClick(t)}}})]),n("SwipeableBottomSheet",{ref:"sheet",staticClass:"bottom-sheet ma-0 pa-0",attrs:{halfY:.5,openY:.2,"data-closed":e.closed?1:0}},[e._t("default")],2)],1)},sr=[],cr=n("3776"),lr={name:"MessageOperationsBottomSheet",components:{SwipeableBottomSheet:cr["a"]},data:function(){return{closed:!0}},mounted:function(){var e=this;this.$watch("$refs.sheet.state",(function(t,n){e.closed="close"==t}))},methods:{open:function(){"half"==this.$refs.sheet.state?this.$refs.sheet.setState("close"):this.$refs.sheet.setState("half")},close:function(){this.$refs.sheet.setState("close")},backgroundClick:function(){"half"==this.$refs.sheet.state?this.$refs.sheet.setState("close"):this.$refs.sheet.setState("half")}}},ur=lr,mr=(n("193e"),Object(l["a"])(ur,ar,sr,!1,null,null,null)),dr=mr.exports;m()(mr,{VFadeTransition:V["d"]});var gr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BottomSheet",{ref:"sheet",staticClass:"sticker-picker"},[n("v-tabs",{staticClass:"tabs",attrs:{centered:"","show-arrows":""},model:{value:e.currentStickerPack,callback:function(t){e.currentStickerPack=t},expression:"currentStickerPack"}},[n("v-tabs-slider"),e._l(e.packs,(function(t){return n("v-tab",{key:t},[e._v(" "+e._s(t)+" "),n("v-icon",[e._v("mdi-phone")])],1)}))],2),n("v-tabs-items",{staticClass:"tab-items",model:{value:e.currentStickerPack,callback:function(t){e.currentStickerPack=t},expression:"currentStickerPack"}},e._l(e.packs,(function(t){return n("v-tab-item",{key:t},[n("v-card",{attrs:{flat:""}},[n("v-container",{attrs:{fluid:""}},[n("v-row",e._l(e.stickersInPack(t),(function(o){return n("v-col",{key:t+o.name,attrs:{cols:"2"}},[n("v-img",{attrs:{src:o.image,contain:""},on:{click:function(n){return e.selectSticker(t,o)}}})],1)})),1)],1)],1)],1)})),1)],1)},pr=[],hr={components:{BottomSheet:Gi},data:function(){return{currentStickerPack:"tab-0"}},computed:{packs:function(){return vt.getPacks()}},mounted:function(){},methods:{open:function(){this.$refs.sheet.open()},stickersInPack:function(e){return vt.stickersInPack(e)},selectSticker:function(e,t){this.$refs.sheet.close(),this.$emit("selectSticker",vt.getStickerShortcode(e,t))}}},fr=hr,vr=(n("efbf"),n("7bbb"),n("b0af")),br=n("71a3"),xr=n("c671"),_r=n("fe57"),yr=n("aac8"),Ar=n("9a96"),wr=Object(l["a"])(fr,gr,pr,!1,null,null,null),Cr=wr.exports;m()(wr,{VCard:vr["a"],VCol:Y["a"],VContainer:G["a"],VIcon:j["a"],VImg:$["a"],VRow:K["a"],VTab:br["a"],VTabItem:xr["a"],VTabs:_r["a"],VTabsItems:yr["a"],VTabsSlider:Ar["a"]});var Ir=n("f827"),kr=n("17af"),Rr=n("d8d9"),Er=n("94df"),Sr=5e3,Tr=.3;function Pr(e){this.node=e,this.previousScrollHeightMinusTop=0,this.previousScrollTop=0,this.readyFor="up"}Pr.prototype.restore=function(){"up"===this.readyFor?this.node.scrollTop=this.node.scrollHeight-this.previousScrollHeightMinusTop:this.node.scrollTop=this.previousScrollTop},Pr.prototype.prepareFor=function(e){this.readyFor=e||"up","up"===this.readyFor?this.previousScrollHeightMinusTop=this.node.scrollHeight-this.node.scrollTop:this.previousScrollTop=this.node.scrollTop};var Or={name:"Chat",components:{ChatHeader:_i,MessageIncomingText:Ce,MessageIncomingFile:Te,MessageIncomingImage:Ue,MessageIncomingAudio:Ke,MessageIncomingVideo:ot,MessageIncomingSticker:yt,MessageOutgoingText:Mt,MessageOutgoingFile:Nt,MessageOutgoingImage:Wt,MessageOutgoingAudio:Xt,MessageOutgoingVideo:on,MessageOutgoingSticker:un,ContactJoin:fn,ContactLeave:An,ContactInvited:En,ContactChanged:jn,RoomCreated:Bn,RoomAliased:Jn,RoomNameChanged:Zn,RoomTopicChanged:io,RoomAvatarChanged:uo,RoomHistoryVisibility:vo,RoomJoinRules:wo,RoomPowerLevelsChanged:To,RoomGuestAccessChanged:Uo,RoomEncrypted:Vo,DebugEvent:Go,MessageOperations:ti,MessageOperationsPicker:si,VoiceRecorder:Li,RoomInfoBottomSheet:qi,CreatedRoomWelcomeHeader:rr,MessageOperationsBottomSheet:dr,StickerPickerBottomSheet:Cr,BottomSheet:Gi,AvatarOperations:gi},data:function(){return{config:a,events:[],currentInput:"",typingMembers:[],timelineWindow:null,timelineWindowPaginating:!1,scrollPosition:null,currentImageInput:null,currentImageInputPath:null,currentSendOperation:null,currentSendProgress:null,currentSendShowSendButton:!0,currentSendError:null,showEmojiPicker:!1,selectedEvent:null,editedEvent:null,replyToEvent:null,showNoRecordingAvailableDialog:!1,showContextMenu:!1,showContextMenuAnchor:null,showAvatarMenu:!1,showAvatarMenuAnchor:null,initialLoadDone:!1,loading:!1,showRecorder:!1,showRecorderPTT:!1,chatContainerSize:0,showScrollToEnd:!1,rrTimer:null,lastRR:null,showCreatedRoomWelcomeHeader:!1,recentEmojis:[]}},mounted:function(){var e=this.$refs.chatContainer;this.scrollPosition=new Pr(e),this.chatContainerSize=this.$refs.chatContainerResizer.$el.clientHeight},beforeDestroy:function(){this.stopRRTimer()},destroyed:function(){this.$matrix.off("Room.timeline",this.onEvent),this.$matrix.off("RoomMember.typing",this.onUserTyping)},computed:{currentUser:function(){return this.$store.state.auth.user},room:function(){return this.$matrix.currentRoom},roomId:function(){return!this.$matrix.ready&&this.currentUser?null:this.room?this.room.roomId:this.$matrix.currentRoomId},roomAliasOrId:function(){return this.room?this.room.getCanonicalAlias()||this.room.roomId:this.$matrix.currentRoomId},readMarker:function(){return this.lastRR?this.lastRR.getId():this.fullyReadMarker||this.room.getEventReadUpTo(this.$matrix.currentUserId,!1)},fullyReadMarker:function(){var e=this.room.getAccountData("m.fully_read");return e?e.getContent().event_id:null},attachButtonDisabled:function(){return null!=this.editedEvent||null!=this.replyToEvent||this.currentInput.length>0},sendButtonDisabled:function(){return 0==this.currentInput.length},typingMembersString:function(){var e=this.typingMembers.length;return e>1?this.$t("message.users_are_typing",{count:e}):e>0?this.$t("message.user_is_typing",{user:this.typingMembers[0].name}):""},opStyle:function(){var e=this.selectedEvent&&this.$refs[this.selectedEvent.getId()],t=0,n=0;if(e&&e[0]&&this.showContextMenuAnchor){var o=this.showContextMenuAnchor.getBoundingClientRect(),i=this.$refs.messageOperationsStrut.getBoundingClientRect();t=o.top-i.top,n=o.left-i.left,n+250>i.right&&(n=i.right-250)}return"top:"+t+"px;left:"+n+"px"},avatarOpStyle:function(){var e=this.selectedEvent&&this.$refs[this.selectedEvent.getId()],t=0,n=0;if(e&&e[0]&&this.showAvatarMenuAnchor){var o=this.showAvatarMenuAnchor.getBoundingClientRect(),i=this.$refs.avatarOperationsStrut.getBoundingClientRect();t=o.top-i.top,n=o.left-i.left}return"top:"+t+"px;left:"+n+"px"},canRecordAudio:function(){return T["a"].browserCanRecordAudio()},debugging:function(){return(window.location.host||"").startsWith("localhost")}},watch:{roomId:{immediate:!0,handler:function(e,t){if(!e||e!=t){if(console.log("Chat: Current room changed to "+(e||"null")),this.$matrix.off("Room.timeline",this.onEvent),this.$matrix.off("RoomMember.typing",this.onUserTyping),this.events=[],this.timelineWindow=null,this.typingMembers=[],this.initialLoadDone=!1,this.stopRRTimer(),this.lastRR=null,!this.room)return(this.roomId&&this.roomId.startsWith("#")||this.roomId)&&this.onRoomNotJoined(),void(this.initialLoadDone=!0);this.room.hasMembershipState(this.currentUser.user_id,"join")?this.onRoomJoined(this.readMarker):this.onRoomNotJoined()}}}},methods:{onRoomJoined:function(e){var t=this,n=this.room.currentState.getStateEvents("m.room.create","");if(n){var o=n.getContent().creator;o==this.$matrix.currentUserId&&n.getLocalAge()<3e5&&(this.showCreatedRoomWelcomeHeader=!0)}this.$matrix.on("Room.timeline",this.onEvent),this.$matrix.on("RoomMember.typing",this.onUserTyping),console.log("Read up to "+e),this.timelineWindow=new te["TimelineWindow"](this.$matrix.matrixClient,this.room.getUnfilteredTimelineSet(),{});var i=this;this.timelineWindow.load(e,20).then((function(){i.events=i.timelineWindow.getEvents();var n=function e(){var t=i.$refs.chatContainer;return t.scrollHeight<=(1+2*Tr)*t.clientHeight&&i.timelineWindow&&i.timelineWindow.canPaginate(te["EventTimeline"].BACKWARDS)?i.timelineWindow.paginate(te["EventTimeline"].BACKWARDS,10,!0,5).then((function(t){return i.events=i.timelineWindow.getEvents(),t?e.call(i):Promise.reject("Failed to paginate")})):Promise.resolve("Done")}.bind(i);n().catch((function(e){console.log("ERROR "+e)})).finally((function(){i.initialLoadDone=!0,e&&!t.showCreatedRoomWelcomeHeader?i.scrollToEvent(e):t.showCreatedRoomWelcomeHeader&&i.onScroll(),i.restartRRTimer()}))})).catch((function(n){console.log("Error fetching events!",n,t),"M_UNKNOWN"==n.errcode&&e?t.onRoomJoined(null):(t.events=t.timelineWindow.getEvents(),t.initialLoadDone=!0)}))},onRoomNotJoined:function(){this.$navigation.push({name:"Join",params:{roomId:T["a"].sanitizeRoomId(this.roomAliasOrId)}},0)},scrollToEndOfTimeline:function(){var e=this;if(this.timelineWindow&&this.timelineWindow.canPaginate(te["EventTimeline"].FORWARDS)){this.loading=!0;var t=new te["TimelineWindow"](this.$matrix.matrixClient,this.room.getUnfilteredTimelineSet(),{}),n=this;t.load(null,20).then((function(){n.timelineWindow=t,n.events=n.timelineWindow.getEvents()})).finally((function(){e.loading=!1}))}else this.smoothScrollToEnd()},touchX:function(e){return-1!==e.type.indexOf("mouse")?e.clientX:e.touches[0].clientX},touchY:function(e){return-1!==e.type.indexOf("mouse")?e.clientY:e.touches[0].clientY},touchStart:function(e,t){this.selectedEvent!=t&&(this.showContextMenu=!1),this.selectedEvent=t,this.touchStartX=this.touchX(e),this.touchStartY=this.touchY(e),this.touchTimer=setTimeout(this.touchTimerElapsed,500)},touchEnd:function(){this.touchTimer&&clearTimeout(this.touchTimer)},touchCancel:function(){this.touchTimer&&clearTimeout(this.touchTimer)},touchMove:function(e){this.touchCurrentX=this.touchX(e),this.touchCurrentY=this.touchY(e);var t=4,n=Math.abs(this.touchStartX-this.touchCurrentX)>t||Math.abs(this.touchStartY-this.touchCurrentY)>t;n&&this.touchTimer&&clearTimeout(this.touchTimer)},touchTimerElapsed:function(){this.updateRecentEmojis(),this.showContextMenu=!0},handleChatContainerResize:function(e){e.ignoredWidth;var t=e.height,n=t-this.chatContainerSize;this.chatContainerSize=t;var o=this.$refs.chatContainer;n<0&&(o.scrollTop-=n)},componentForEvent:function(e){switch(e.getType()){case"m.room.member":if("join"==e.getContent().membership)return e.getPrevContent()&&"join"==e.getPrevContent().membership?jn:fn;if("leave"==e.getContent().membership)return An;if("invite"==e.getContent().membership)return En;break;case"m.room.message":return e.getSender()!=this.$matrix.currentUserId?"m.image"==e.getContent().msgtype?e.getContent().info&&e.getContent().info.mimetype&&e.getContent().info.mimetype.startsWith("image/svg")?Te:Ue:"m.audio"==e.getContent().msgtype?Ke:"m.video"==e.getContent().msgtype?ot:"m.file"==e.getContent().msgtype?Te:vt.isStickerShortcode(e.getContent().body)?yt:Ce:"m.image"==e.getContent().msgtype?(e.getContent().info&&e.getContent().info.mimetype&&e.getContent().info.mimetype.startsWith("image/svg"),Wt):"m.audio"==e.getContent().msgtype?Xt:"m.video"==e.getContent().msgtype?on:"m.file"==e.getContent().msgtype?Nt:vt.isStickerShortcode(e.getContent().body)?un:Mt;case"m.room.create":return Bn;case"m.room.canonical_alias":return Jn;case"m.room.name":return Zn;case"m.room.topic":return io;case"m.room.avatar":return uo;case"m.room.history_visibility":return vo;case"m.room.join_rules":return wo;case"m.room.power_levels":return To;case"m.room.guest_access":return Uo;case"m.room.encryption":return Vo}return this.debugging?Go:null},paginateBackIfNeeded:function(){var e=this;this.$nextTick((function(){var t=e.$refs.chatContainer;t.scrollHeight<=t.clientHeight&&e.handleScrolledToTop()}))},onScroll:function(e){var t=this.$refs.chatContainer;if(t){var n=t.clientHeight*Tr;t.scrollTop<=n?this.handleScrolledToTop():t.scrollHeight-t.scrollTop.toFixed(0)-t.clientHeight<=n&&this.handleScrolledToBottom(!1),this.showScrollToEnd=t.scrollHeight-t.scrollTop.toFixed(0)>t.clientHeight||this.timelineWindow&&this.timelineWindow.canPaginate(te["EventTimeline"].FORWARDS),this.restartRRTimer()}},onEvent:function(e){if(e.getRoomId()===this.roomId){this.initialLoadDone&&this.paginateBackIfNeeded();var t=this.$refs.chatContainer,n=e.getSender()==this.$matrix.currentUserId;t.scrollHeight-t.scrollTop.toFixed(0)==t.clientHeight&&(n=!0),this.initialLoadDone&&e.forwardLooking&&!e.isRelation()&&this.handleScrolledToBottom(n)}},onUserTyping:function(e,t){if(t.roomId===this.roomId)if(t.typing)this.typingMembers.includes(t)||this.typingMembers.push(t);else{var n=this.typingMembers.indexOf(t);n>-1&&this.typingMembers.splice(n,1)}},sendCurrentTextMessage:function(){this.currentInput.length>0&&!this.showRecorder&&(this.sendMessage(this.currentInput),this.currentInput="",this.editedEvent=null,this.replyToEvent=null)},sendMessage:function(e){e&&e.length>0&&T["a"].sendTextMessage(this.$matrix.matrixClient,this.roomId,e,this.editedEvent,this.replyToEvent).then((function(){console.log("Sent message")})).catch((function(e){console.log("Failed to send:",e)}))},showAttachmentPicker:function(){this.$refs.attachment.click()},handlePickedAttachment:function(e){var t=this;if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(n){var i=e.target.files[0];if(t.currentSendShowSendButton=!0,i.type.startsWith("image/")){t.currentImageInput={image:n.target.result,dimensions:null};try{t.currentImageInput.dimensions=kr(Rr(n.target.result));var r=t.currentImageInput.dimensions.width,a=t.currentImageInput.dimensions.height;if(r>640||a>640){var s=r/a,c=parseInt((r>a?640:640*s).toFixed()),l=parseInt((r>a?640/s:640).toFixed()),u=new Ir["a"]({format:"png",width:c,height:l,outputType:"blob"});u.play(e.target).then((function(e){o["a"].set(t.currentImageInput,"scaled",new File([e],i.name,{type:e.type,lastModified:Date.now()})),o["a"].set(t.currentImageInput,"useScaled",!0),o["a"].set(t.currentImageInput,"scaledSize",e.size),o["a"].set(t.currentImageInput,"scaledDimensions",{width:c,height:l})})).catch((function(e){console.error("Resize failed:",e)}))}}catch(m){console.error("Failed to get image dimensions: "+m)}}console.log(t.currentImageInput),t.currentImageInputPath=i},n.readAsDataURL(e.target.files[0])}},showStickerPicker:function(){this.$refs.stickerPickerSheet.open()},onUploadProgress:function(e){e.total?this.currentSendProgress=this.$t("message.upload_progress_with_total",{count:e.loaded||0,total:e.total}):this.currentSendProgress=this.$t("message.upload_progress",{count:e.loaded||0})},sendAttachment:function(e){var t=this;if(this.$refs.attachment.value=null,this.currentImageInputPath){var n=this.currentImageInputPath;this.currentImageInput&&this.currentImageInput.scaled&&this.currentImageInput.useScaled&&(n=this.currentImageInput.scaled),this.currentSendProgress=null,this.currentSendOperation=T["a"].sendImage(this.$matrix.matrixClient,this.roomId,n,this.onUploadProgress),this.currentSendOperation.then((function(){t.currentSendOperation=null,t.currentImageInput=null,t.currentImageInputPath=null,t.currentSendProgress=null,e&&t.sendMessage(e)})).catch((function(e){t.currentSendError=e.toLocaleString(),t.currentSendOperation=null,t.currentSendProgress=null}))}},cancelSendAttachment:function(){this.$refs.attachment.value=null,this.currentSendOperation&&this.currentSendOperation.reject("Canceled"),this.currentSendOperation=null,this.currentImageInput=null,this.currentImageInputPath=null,this.currentSendProgress=null,this.currentSendError=null},handleScrolledToTop:function(){var e=this;console.log("@top"),this.timelineWindow&&this.timelineWindow.canPaginate(te["EventTimeline"].BACKWARDS)&&!this.timelineWindowPaginating&&(this.timelineWindowPaginating=!0,this.timelineWindow.paginate(te["EventTimeline"].BACKWARDS,10,!0).then((function(t){t&&(e.scrollPosition.prepareFor("up"),e.events=e.timelineWindow.getEvents(),e.$nextTick((function(){console.log("Restore scroll!"),e.scrollPosition.restore()})))})).finally((function(){e.timelineWindowPaginating=!1})))},handleScrolledToBottom:function(e){var t=this;console.log("@bottom"),this.timelineWindow&&this.timelineWindow.canPaginate(te["EventTimeline"].FORWARDS)&&!this.timelineWindowPaginating&&(this.timelineWindowPaginating=!0,this.timelineWindow.paginate(te["EventTimeline"].FORWARDS,10,!0).then((function(n){n&&(t.scrollPosition.prepareFor("down"),t.events=t.timelineWindow.getEvents(),t.$nextTick((function(){console.log("Restore scroll!"),t.scrollPosition.restore(),e&&t.smoothScrollToEnd()})))})).finally((function(){t.timelineWindowPaginating=!1})))},scrollToEvent:function(e){var t=this.$refs.chatContainer,n=this.$refs[e];if(t&&n){var o=t.clientHeight/2,i=n[0].offsetTop;t.scrollTo(0,i-o)}},smoothScrollToEnd:function(){this.$nextTick((function(){var e=this.$refs.chatContainer;if(e.children.length>0){var t=e.children[e.children.length-1];console.log("Scroll into view",t),window.requestAnimationFrame((function(){t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}))}}))},showMoreMessageOperations:function(e){this.addReaction(e)},addReaction:function(e){var t=e.event;this.selectedEvent=t,this.$refs.messageOperationsSheet.open(),this.showEmojiPicker=!0},addQuickReaction:function(e){this.sendQuickReaction({reaction:e.emoji,event:e.event})},addReply:function(e){this.replyToEvent=e,this.$refs.messageInput.focus()},edit:function(e){this.editedEvent=e,this.currentInput=e.getContent().body,this.$refs.messageInput.focus()},redact:function(e){this.$matrix.matrixClient.redactEvent(e.getRoomId(),e.getId()).then((function(){console.log("Message redacted")})).catch((function(e){console.log("Redaction failed: ",e)}))},download:function(e){var t=this;T["a"].getAttachment(this.$matrix.matrixClient,e).then((function(n){var o=document.createElement("a");o.href=n,o.target="_blank",o.download=e.getContent().body||t.$t("fallbacks.download_name"),o.click(),URL.revokeObjectURL(n)})).catch((function(e){console.log("Failed to fetch attachment: ",e)}))},cancelEditReply:function(){this.currentInput="",this.editedEvent=null,this.replyToEvent=null},emojiSelected:function(e){if(this.showEmojiPicker=!1,this.selectedEvent){var t=this.selectedEvent;this.selectedEvent=null,this.sendQuickReaction({reaction:e.data,event:t})}},sendQuickReaction:function(e){T["a"].sendQuickReaction(this.$matrix.matrixClient,this.roomId,e.reaction,e.event).then((function(){console.log("Quick reaction message")})).catch((function(e){console.log("Failed to send quick reaction:",e)}))},sendSticker:function(e){this.sendMessage(e)},showContextMenuForEvent:function(e){var t=e.event;this.selectedEvent=t,this.updateRecentEmojis(),this.showContextMenu=!0,this.showContextMenuAnchor=e.anchor},showAvatarMenuForEvent:function(e){var t=e.event;this.selectedEvent=t,this.showAvatarMenu=!0,this.showAvatarMenuAnchor=e.anchor},viewProfile:function(){this.$navigation.push({name:"Profile"},1)},startPrivateChat:function(e){var t=this;this.$matrix.getOrCreatePrivateChat(e.event.getSender()).then((function(e){t.$nextTick((function(){t.$navigation.push({name:"Chat",params:{roomId:T["a"].sanitizeRoomId(e.getCanonicalAlias()||e.roomId)}},-1)}))})).catch((function(e){console.error(e)}))},closeContextMenusIfOpen:function(e){this.showContextMenu&&(this.showContextMenu=!1,this.showContextMenuAnchor=null,e.preventDefault()),this.showAvatarMenu&&(this.showAvatarMenu=!1,this.showAvatarMenuAnchor=null,e.preventDefault())},stopRRTimer:function(){this.rrTimer&&(clearTimeout(this.rrTimer),this.rrTimer=null)},restartRRTimer:function(){this.stopRRTimer(),this.rrTimer=setTimeout(this.rrTimerElapsed,Sr)},rrTimerElapsed:function(){var e=this;this.rrTimer=null;var t=this.$refs.chatContainer,n=T["a"].getFirstVisibleElement(t),o=T["a"].getLastVisibleElement(t);if(n&&o){var i=n.getAttribute("eventId"),r=o.getAttribute("eventId");if(r&&this.room){var a=this.room.findEventById(r),s=this.events.indexOf(a),c=0;this.lastRR&&(c=this.lastRR.getTs());for(var l=s;l>=0;l--){if(a=this.events[l],a==this.lastRR||a.getTs()<=c)break;if(!a.getId().startsWith("~"))return void this.$matrix.matrixClient.sendReadReceipt(a).then((function(){e.$matrix.matrixClient.setRoomReadMarkers(e.room.roomId,a.getId())})).then((function(){console.log("RR sent for event: "+a.getId()),e.lastRR=a})).catch((function(e){console.log("Failed to update read marker: ",e)})).finally((function(){e.restartRRTimer()}));if(a.getId()==i)break}}}this.restartRRTimer()},showDayMarkerBeforeEvent:function(e){var t=this.events.indexOf(e);if(t<=0)return!0;var n=this.events[t-1];return T["a"].dayDiff(n.getTs(),e.getTs())>0},dayForEvent:function(e){return T["a"].formatDay(e.getTs())},showRecordingUI:function(){this.showRecorderPTT=!1,this.showRecorder=!0},startRecording:function(){this.showRecorderPTT=!0,this.showRecorder=!0},onVoiceRecording:function(e){this.currentSendShowSendButton=!1,this.currentImageInputPath=e.file;var t=void 0;this.currentInput&&this.currentInput.length>0&&(t=this.currentInput,this.currentInput=""),this.sendAttachment(t),this.showRecorder=!1,this.$ci.event("Audio","Voice message sent")},closeCreateRoomWelcomeHeader:function(){var e=this;this.showCreatedRoomWelcomeHeader=!1,this.$nextTick((function(){e.onScroll()}))},updateRecentEmojis:function(){this.$refs.emojiPicker?this.recentEmojis=this.$refs.emojiPicker.mapEmojis["Frequently"]:this.recentEmojis=[]},formatBytes:function(e){return Er(e)}}},Mr=Or,jr=(n("44b9"),n("99d9")),$r=n("169a"),Ur=n("ce7e"),Dr=n("2fa4"),Lr=n("b73d"),Nr=n("a844"),Br=Object(l["a"])(Mr,q,ee,!1,null,null,null),zr=Br.exports;m()(Br,{VBtn:M["a"],VCard:vr["a"],VCardActions:jr["a"],VCardText:jr["b"],VCardTitle:jr["c"],VCol:Y["a"],VContainer:G["a"],VDialog:$r["a"],VDivider:Ur["a"],VIcon:j["a"],VImg:$["a"],VProgressCircular:Q["a"],VRow:K["a"],VSpacer:Dr["a"],VSwitch:Lr["a"],VTextarea:Nr["a"]});var Vr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"join-root"},[e.waitingForInfo||e.waitingForMembership?e._e():n("div",{staticClass:"text-center"},[e.currentUser?e._e():n("v-btn",{staticClass:"btn-login",attrs:{text:"",small:"",loading:e.loading},on:{click:function(t){return t.stopPropagation(),e.handleLogin(t)}}},[e._v(e._s(e.$t("menu.login")))]),n("v-avatar",{staticClass:"join-avatar"},[e.roomAvatar?n("v-img",{attrs:{src:e.roomAvatar}}):n("span",{staticClass:"white--text headline"},[e._v(e._s(e.roomName.substring(0,1).toUpperCase()))])],1),n("div",{staticClass:"join-title"},[e._v(e._s(e.$t("join.title",{roomName:e.roomName})))]),n("div",{staticClass:"join-message"}),n("v-container",{staticClass:"join-user-info"},[e.canEditProfile?n("v-row",[n("v-col",{staticClass:"flex-grow-0 flex-shrink-0"},[n("v-avatar",{on:{click:e.showAvatarPickerList}},[e.selectedProfile?n("v-img",{attrs:{src:e.selectedProfile.image}}):e._e()],1)],1),n("v-col",{staticClass:"flex-shrink-1 flex-grow-1"},[n("v-select",{ref:"avatar",attrs:{items:e.availableAvatars,"cache-items":"",label:e.$t("join.user_name_label"),outlined:"",dense:"",value:e.availableAvatars[0],"single-line":""},on:{change:e.selectAvatar},scopedSlots:e._u([{key:"selection",fn:function(){return[n("v-text-field",{attrs:{"background-color":"transparent",solo:"",flat:"","hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.selectedProfile.name,callback:function(t){e.$set(e.selectedProfile,"name",t)},expression:"selectedProfile.name"}})]},proxy:!0},{key:"item",fn:function(t){return[n("v-avatar",{attrs:{size:"32"}},[n("v-img",{attrs:{src:t.item.image}})],1),n("div",{staticClass:"ml-2"},[e._v(e._s(t.item.name))])]}}],null,!1,1874003059)}),n("v-switch",{attrs:{label:e.$t("join.shared_computer")},model:{value:e.sharedComputer,callback:function(t){e.sharedComputer=t},expression:"sharedComputer"}})],1)],1):n("v-row",[n("v-col",[e._v(" "+e._s(e.$t("join.joining_as"))+" "),n("div",{staticStyle:{display:"inline-block"}},[n("v-avatar",{attrs:{color:"#e0e0e0"}},[e.userAvatar?n("v-img",{attrs:{src:e.userAvatar}}):n("span",{staticClass:"white--text headline"},[e._v(e._s(e.userAvatarLetter))])],1)],1),e._v(" "+e._s(e.userDisplayName)+" ")])],1)],1),e.currentUser?n("v-btn",{staticClass:"btn-dark",attrs:{large:"",block:"",loading:e.loading},on:{click:function(t){return t.stopPropagation(),e.handleJoin(t)}}},[e._v(e._s(e.$t("join.join")))]):n("v-btn",{staticClass:"btn-dark",attrs:{large:"",block:"",loading:e.loading},on:{click:function(t){return t.stopPropagation(),e.handleJoin(t)}}},[e._v(e._s(e.$t("join.join_guest")))]),e.loadingMessage?n("div",[e._v(e._s(e.loadingMessage))]):e._e()],1)])},Fr=[],Hr=(n("25f0"),{name:"Join",data:function(){return{roomName:null,roomAvatar:null,loading:!1,loadingMessage:null,waitingForInfo:!0,waitingForMembership:!1,availableAvatars:[],selectedProfile:null}},mounted:function(){this.$matrix.on("Room.myMembership",this.onMyMembership),this.availableAvatars=T["a"].getDefaultAvatars(),this.selectAvatar(this.availableAvatars[Math.floor(Math.random()*this.availableAvatars.length)])},destroyed:function(){this.$matrix.off("Room.myMembership",this.onMyMembership)},computed:{currentUser:function(){return this.$store.state.auth.user},room:function(){return this.$matrix.currentRoom},roomId:function(){return this.room?this.room.roomId:this.$matrix.currentRoomId},roomAliasOrId:function(){return this.room?this.room.getCanonicalAlias()||this.room.roomId:this.$matrix.currentRoomId},canEditProfile:function(){return!this.currentUser},userDisplayName:function(){return this.$matrix.currentUserDisplayName},userAvatar:function(){return this.$matrix.userAvatar?this.$matrix.matrixClient.mxcUrlToHttp(this.$matrix.userAvatar,80,80,"scale",!0):null},userAvatarLetter:function(){return this.currentUser&&this.currentUser.userId?(this.currentUserDisplayName||this.currentUser.userId.substring(1)).substring(0,1).toUpperCase():null},sharedComputer:{get:function(){return!this.$store.state.useLocalStorage},set:function(e){this.$store.commit("setUseLocalStorage",!e)}}},watch:{roomId:{immediate:!0,handler:function(e,t){var n=this;if(e&&(!e||e!=t)){console.log("Join: Current room changed to "+(e||"null")),this.roomName=this.roomId,this.waitingForInfo=!0;var o=this;this.waitingForMembership=!0,this.currentUser?this.$matrix.getLoginPromise().then((function(){o.$matrix.setCurrentRoomId(o.roomAliasOrId);var e=o.$matrix.getRoom(o.roomAliasOrId);e&&e.hasMembershipState(o.currentUser.user_id,"join")&&o.$navigation.push({name:"Chat",params:{roomId:T["a"].sanitizeRoomId(n.roomAliasOrId)}},-1)})).catch((function(e){console.log("Error logging in: ",e)})).finally((function(){n.waitingForMembership=!1,n.getRoomInfo()})):(this.waitingForMembership=!1,this.getRoomInfo())}}}},methods:{getRoomInfo:function(){var e=this;if(this.roomId.startsWith("#"))this.$matrix.getPublicRoomInfo(this.roomId).then((function(t){console.log("Found room:",t),e.roomName=t.name,e.roomAvatar=t.avatar})).catch((function(e){console.log("Could not find room info",e)})).finally((function(){e.waitingForInfo=!1}));else{var t=this.$matrix.getRoom(this.roomId);t&&(this.roomName=t.name||this.roomName),this.waitingForInfo=!1}},onMyMembership:function(e,t,n){var o=this;e&&e.roomId==this.roomId&&"join"==t&&this.$nextTick((function(){o.$navigation.push({name:"Chat",params:{roomId:T["a"].sanitizeRoomId(o.roomAliasOrId)}},-1)}))},handleLogin:function(){this.$navigation.push({path:"/login"},1)},handleOpenApp:function(){console.log("Open app...")},handleJoin:function(){var e=this;this.loading=!0,this.loadingMessage=this.$t("join.status_logging_in");var t=!!this.currentUser,n=!1;return this.$matrix.getLoginPromise().then(function(e){return e.is_guest&&!t&&(n=!0,this.selectedProfile.name&&this.selectedProfile.name.length>0&&(this.$matrix.userDisplayName=this.selectedProfile.name)),n&&this.selectedProfile.name&&0!=this.selectedProfile.name.length?(console.log("Join: Set display name to: "+this.selectedProfile.name),this.$matrix.matrixClient.setDisplayName(this.selectedProfile.name,void 0)):Promise.resolve(e)}.bind(this)).then(function(){return n&&this.selectedProfile.image?(console.log("Join: Updating avatar"),T["a"].setAvatar(this.$matrix,this.selectedProfile.image,(function(e){console.log("Progress: "+JSON.stringify(e))}))):(console.log("Join: No avatar change"),Promise.resolve("no avatar"))}.bind(this)).then(function(e){return console.log("Join: joining room"),this.loadingMessage=this.$t("join.status_joining"),this.$matrix.matrixClient.joinRoom(this.roomId)}.bind(this)).then((function(t){e.loading=!1,e.loadingMessage=null,e.$nextTick((function(){e.$navigation.push({name:"Chat",params:{roomId:T["a"].sanitizeRoomId(e.roomAliasOrId)}},-1)}))})).catch((function(t){console.log("Failed to join room",t),e.loading=!1,e.loadingMessage=t.toString()}))},selectAvatar:function(e){this.selectedProfile=Object.assign({},e)},showAvatarPickerList:function(){this.$refs.avatar.$refs.input.click()}}}),Wr=Hr,Jr=(n("3ed2"),n("b974")),Yr=n("8654"),Gr=Object(l["a"])(Wr,Vr,Fr,!1,null,null,null),Qr=Gr.exports;m()(Gr,{VAvatar:be["a"],VBtn:M["a"],VCol:Y["a"],VContainer:G["a"],VImg:$["a"],VRow:K["a"],VSelect:Jr["a"],VSwitch:Lr["a"],VTextField:Yr["a"]});var Kr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-root"},[e.showBackArrow?n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.$navigation.pop(t)}}},[n("v-icon",[e._v("arrow_back")])],1):e._e(),n("div",{staticClass:"text-center",attrs:{color:"rgba(255,255,255,0.1)"}},[n("div",{staticClass:"h2"},[e._v(e._s(e.$t("login.title")))]),n("v-form",{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[n("v-text-field",{attrs:{label:e.$t("login.username"),color:"black","background-color":"white",outlined:"",rules:[function(t){return!!t||e.$t("login.username_required")}],error:null!=e.userErrorMessage,"error-messages":e.userErrorMessage,required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.password.focus()}},model:{value:e.user.user_id,callback:function(t){e.$set(e.user,"user_id",t)},expression:"user.user_id"}}),n("v-text-field",{ref:"password",attrs:{label:e.$t("login.password"),color:"black","background-color":"white",outlined:"",type:"password",rules:[function(t){return!!t||e.$t("login.password_required")}],error:null!=e.passErrorMessage,"error-messages":e.passErrorMessage,required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:function(){e.isValid&&!e.loading&&e.handleLogin()}()}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("v-btn",{attrs:{disabled:!e.isValid||e.loading,primary:"",large:"",block:"",loading:e.loading},on:{click:function(t){return t.stopPropagation(),e.handleLogin(t)}}},[e._v(e._s(e.$t("login.login")))])],1)],1)],1)},Xr=[],Zr=n("86543"),qr={name:"Login",data:function(){return{user:new Zr["a"](a.defaultServer,"",""),isValid:!0,loading:!1,message:"",userErrorMessage:null,passErrorMessage:null}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn},currentUser:function(){return this.$store.state.auth.user},showBackArrow:function(){return this.$navigation&&this.$navigation.canPop()}},created:function(){this.loggedIn&&this.$navigation.push({name:"Chat",params:{roomId:T["a"].sanitizeRoomId(this.$matrix.currentRoomId)}},-1)},watch:{user:{handler:function(){this.userErrorMessage=null,this.passErrorMessage=null},deep:!0},message:function(){this.message&&this.message.toLowerCase().includes("user")?this.userErrorMessage=this.message:this.userErrorMessage=null,this.message&&this.message.toLowerCase().includes("pass")?this.passErrorMessage=this.message:this.passErrorMessage=null}},methods:{handleLogin:function(){var e=this;if(this.user.user_id&&this.user.password){this.message=null;var t=Object.assign({},this.user);t.normalize(),this.loading=!0,this.$store.dispatch("login",t).then((function(){e.$matrix.currentRoomId?e.$navigation.push({name:"Chat",params:{roomId:T["a"].sanitizeRoomId(e.$matrix.currentRoomId)}},-1):e.$navigation.push({name:"Home"},-1)}),(function(t){e.loading=!1,e.message=t.data&&t.data.error||t.message||t.toString(),console.log("Message set to ",e.message)}))}}}},ea=qr,ta=(n("5338"),n("4bd4")),na=Object(l["a"])(ea,Kr,Xr,!1,null,null,null),oa=na.exports;m()(na,{VBtn:M["a"],VForm:ta["a"],VIcon:j["a"],VTextField:Yr["a"]});var ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("div",{staticClass:"profile"},[n("div",{staticClass:"chat-header"},[n("v-container",{attrs:{fluid:""}},[n("div",{staticClass:"room-name"},[e._v(e._s(e.$t("profile.title")))]),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.$navigation&&e.$navigation.canPop(),expression:"$navigation && $navigation.canPop()"}],staticClass:"header-button-right",attrs:{text:""},on:{click:function(t){return t.stopPropagation(),e.$navigation.pop(t)}}},[n("v-icon",[e._v("close")])],1)],1)],1),n("v-container",{staticClass:"user-info"},[n("v-row",[n("v-col",{staticClass:"flex-grow-0 flex-shrink-0"},[n("v-avatar",{staticClass:"avatar",attrs:{size:"48",color:"#e0e0e0"}},[e.userAvatar?n("img",{attrs:{src:e.userAvatar}}):n("span",{staticClass:"white--text headline"},[e._v(e._s(e.userAvatarLetter))])])],1),n("v-col",{staticClass:"flex-shrink-1 flex-grow-1"},[n("div",{staticClass:"h1"},[e._v(e._s(e.displayName))]),n("div",{staticClass:"text-center"},[e._v(e._s(e.$matrix.currentUser.user_id))]),e.$matrix.currentUser.is_guest?n("div",[e._v(e._s(e.$t("profile.temporary_identity")))]):e._e(),n("v-btn",{staticClass:"outlined-button",attrs:{depressed:"",block:""},on:{click:function(t){return t.stopPropagation(),e.logout(t)}}},[e._v(e._s(e.$t("menu.logout")))])],1)],1)],1),n("div",{staticClass:"action",on:{click:function(t){e.showEditPasswordDialog=!0}}},[n("v-icon",[e._v("lock")]),n("span",[e._v(e._s(e.$t("profile.set_password")))])],1),n("div",{staticClass:"action",on:{click:function(t){e.editValue=e.displayName,e.showEditDisplaynameDialog=!0}}},[n("v-icon",[e._v("edit")]),n("span",[e._v(e._s(e.$t("profile.change_name")))])],1),n("v-dialog",{staticClass:"ma-0 pa-0",attrs:{width:"50%"},model:{value:e.showEditPasswordDialog,callback:function(t){e.showEditPasswordDialog=t},expression:"showEditPasswordDialog"}},[n("v-card",{attrs:{disabled:e.settingPassword}},[n("v-card-title",[e._v(e._s(e.$t("profile.change_password")))]),n("v-card-text",[e.$matrix.currentUser.is_guest?e._e():n("v-text-field",{attrs:{label:e.$t("profile.password_old"),type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-text-field",{attrs:{label:e.$t("profile.password_new"),type:"password"},model:{value:e.newPassword1,callback:function(t){e.newPassword1=t},expression:"newPassword1"}}),n("v-text-field",{attrs:{label:e.$t("profile.password_repeat"),type:"password"},model:{value:e.newPassword2,callback:function(t){e.newPassword2=t},expression:"newPassword2"}}),e.passwordErrorMessage?n("div",{staticClass:"red--text"},[e._v(e._s(e.passwordErrorMessage))]):e._e()],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:e.closeEditPasswordDialog}},[e._v(e._s(e.$t("menu.cancel")))]),n("v-btn",{attrs:{disabled:!e.passwordsMatch,color:"primary",text:""},on:{click:function(t){return e.setPassword(e.$matrix.currentUser.is_guest?e.$matrix.currentUser.password:e.password,e.newPassword1)}}},[e._v(e._s(e.$t("menu.ok")))])],1)],1)],1),n("v-dialog",{staticClass:"ma-0 pa-0",attrs:{width:"50%"},model:{value:e.showEditDisplaynameDialog,callback:function(t){e.showEditDisplaynameDialog=t},expression:"showEditDisplaynameDialog"}},[n("v-card",[n("v-card-title",[e._v(e._s(e.$t("profile.display_name")))]),n("v-card-text",[n("v-text-field",{model:{value:e.editValue,callback:function(t){e.editValue=t},expression:"editValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){e.showEditDisplaynameDialog=!1}}},[e._v(e._s(e.$t("menu.cancel")))]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.setDisplayName(e.editValue),e.showEditDisplaynameDialog=!1}}},[e._v(e._s(e.$t("menu.ok")))])],1)],1)],1)],1):e._e()},ra=[],aa={name:"Profile",data:function(){return{showEditPasswordDialog:!1,showEditDisplaynameDialog:!1,editValue:null,password:null,newPassword1:null,newPassword2:null,settingPassword:!1,passwordErrorMessage:null}},computed:{user:function(){return this.$matrix.matrixClient?this.$matrix.matrixClient.getUser(this.$matrix.currentUserId):null},displayName:function(){return this.user?this.user.displayName||this.user.userId:null},userAvatar:function(){return this.user&&this.user.avatarUrl?this.$matrix.matrixClient.mxcUrlToHttp(this.user.avatarUrl,80,80,"scale",!0):null},userAvatarLetter:function(){return this.user?(this.user.displayName||this.user.userId.substring(1)).substring(0,1).toUpperCase():null},passwordsMatch:function(){return this.newPassword1&&this.newPassword2&&this.newPassword1==this.newPassword2}},methods:{logout:function(){var e=this;this.$store.dispatch("logout"),this.$nextTick((function(){e.$navigation.push({path:"/login"},-1)}))},setDisplayName:function(e){this.$matrix.matrixClient.setDisplayName(e)},setPassword:function(e,t){var n=this;this.settingPassword=!0,this.passwordErrorMessage=null,this.$matrix.setPassword(e,t).then((function(e){console.log(e?"Password changed":"Failed to change password"),n.closeEditPasswordDialog()})).catch((function(e){n.passwordErrorMessage=e.message})).finally((function(){n.settingPassword=!1}))},closeEditPasswordDialog:function(){this.passwordErrorMessage=null,this.password=null,this.newPassword1=null,this.newPassword2=null,this.showEditPasswordDialog=!1}}},sa=aa,ca=(n("b3d7"),Object(l["a"])(sa,ia,ra,!1,null,null,null)),la=ca.exports;m()(ca,{VAvatar:be["a"],VBtn:M["a"],VCard:vr["a"],VCardActions:jr["a"],VCardText:jr["b"],VCardTitle:jr["c"],VCol:Y["a"],VContainer:G["a"],VDialog:$r["a"],VDivider:Ur["a"],VIcon:j["a"],VRow:K["a"],VSpacer:Dr["a"],VTextField:Yr["a"]});var ua=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-room"},[n("div",[n("v-container",{attrs:{fluid:""}},[n("div",{staticClass:"room-name"},[e._v(e._s(e.$t("new_room.new_room")))]),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.$navigation&&e.$navigation.canPop(),expression:"$navigation && $navigation.canPop()"}],staticClass:"header-button-left",attrs:{text:"",disabled:e.step>e.steps.NAME_SET},on:{click:function(t){return t.stopPropagation(),e.goBack(t)}}},[n("v-icon",[e._v("arrow_back")]),n("span",[e._v(e._s(e.$t("menu.back")))])],1)],1)],1),n("v-container",{staticClass:"join-user-info"},[e.canEditProfile?n("v-row",[n("v-col",{staticClass:"flex-grow-0 flex-shrink-0"},[n("v-avatar",{on:{click:e.showAvatarPickerList}},[e.selectedProfile?n("v-img",{attrs:{src:e.selectedProfile.image}}):e._e()],1)],1),n("v-col",{staticClass:"flex-shrink-1 flex-grow-1"},[n("v-select",{ref:"avatar",attrs:{items:e.availableAvatars,"cache-items":"",label:e.$t("join.user_name_label"),outlined:"",dense:"",value:e.availableAvatars[0],"single-line":""},on:{change:e.selectAvatar},scopedSlots:e._u([{key:"selection",fn:function(){return[n("v-text-field",{attrs:{"background-color":"transparent",solo:"",flat:"","hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.selectedProfile.name,callback:function(t){e.$set(e.selectedProfile,"name",t)},expression:"selectedProfile.name"}})]},proxy:!0},{key:"item",fn:function(t){return[n("v-avatar",{attrs:{size:"32"}},[n("v-img",{attrs:{src:t.item.image}})],1),n("div",{staticClass:"ml-2"},[e._v(e._s(t.item.name))])]}}],null,!1,1874003059)}),n("v-switch",{attrs:{label:e.$t("join.shared_computer")},model:{value:e.sharedComputer,callback:function(t){e.sharedComputer=t},expression:"sharedComputer"}})],1)],1):e._e()],1),n("v-container",{staticStyle:{"margin-top":"40px"},attrs:{fluid:""}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{align:"center"}},[n("v-avatar",{attrs:{size:"50",color:"#ededed"},on:{click:function(t){return t.stopPropagation(),e.showAvatarPicker(t)}}},[e.roomAvatar?n("v-img",{attrs:{src:e.roomAvatar}}):n("v-icon",[e._v("camera_alt")])],1)],1)],1),n("v-row",{attrs:{cols:"12",align:"center"}},[n("v-col",{attrs:{cols:"8",offset:"2",align:"center"}},[n("v-text-field",{attrs:{label:e.$t("new_room.name_room"),color:"black","background-color":"white",disabled:e.step>e.steps.INITIAL},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.topic.focus()}},model:{value:e.roomName,callback:function(t){e.roomName=t},expression:"roomName"}}),n("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.roomName.length>0,expression:"roomName.length > 0"}],attrs:{label:e.$t("new_room.room_topic"),color:"black","background-color":"white",disabled:e.step>e.steps.INITIAL},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.create.focus()}},model:{value:e.roomTopic,callback:function(t){e.roomTopic=t},expression:"roomTopic"}}),n("v-btn",{staticClass:"filled-button",attrs:{color:"black",depressed:"",disabled:0==e.roomName.length},on:{click:function(t){return t.stopPropagation(),e.next(t)}}},[e._v(e._s(e.$t("new_room.create")))])],1)],1)],1),n("v-fade-transition",[e.status?n("div",[e._v(e._s(e.status))]):e._e()]),n("input",{ref:"avatar",staticStyle:{display:"none"},attrs:{type:"file",name:"avatar",accept:"image/*"},on:{change:function(t){return e.handlePickedAvatar(t)}}})],1)},ma=[],da=(n("dca8"),Object.freeze({INITIAL:0,CREATING:2,CREATED:3})),ga={name:"CreateRoom",data:function(){return{steps:da,step:da.INITIAL,roomId:null,roomName:"",roomTopic:"",roomAvatar:null,roomAvatarFile:null,status:"",joinRule:0,joinRules:[{id:"public",text:this.$t("new_room.public_info"),icon:"link",descr:this.$t("new_room.public_description")},{id:"invite",text:this.$t("new_room.invite_info"),icon:"person_add",descr:this.$t("new_room.invite_description")}],publicRoomLink:null,publicRoomLinkCopied:!1,availableAvatars:[],selectedProfile:null}},mounted:function(){this.joinRule=this.joinRules[0].id,this.availableAvatars=T["a"].getDefaultAvatars(),this.selectAvatar(this.availableAvatars[Math.floor(Math.random()*this.availableAvatars.length)])},watch:{joinRule:function(){console.log("Join rule changed to",this.joinRule)}},computed:{roomAvatarLetter:function(){return this.roomName?this.roomName.substring(0,1).toUpperCase():null},currentUser:function(){return this.$store.state.auth.user},canEditProfile:function(){return!this.currentUser}},methods:{goBack:function(){this.step==da.NAME_SET?this.step=da.INITIAL:this.$navigation.pop()},next:function(){var e=this;this.step==da.CREATED?this.openRoom():this.step==da.INITIAL&&this.createRoom().then((function(t){e.roomId=t,e.openRoom()}))},openRoom:function(){this.roomId&&this.$navigation.push({name:"Chat",params:{roomId:T["a"].sanitizeRoomId(this.roomId)}},-1)},getPublicLink:function(){var e=this;this.createRoom().then((function(t){e.roomId=t;var n=null;t&&(n=e.$matrix.getRoom(t)),n&&(e.publicRoomLink=e.$router.getRoomLink(n.getCanonicalAlias()||t))}))},addPeople:function(){var e=this;this.createRoom().then((function(t){e.roomId=t,e.$matrix.setCurrentRoomId(t),e.$navigation.push({name:"Invite"},1)}))},createRoomDebug:function(){var e=this;return this.step=da.CREATING,new Promise((function(t,n){setTimeout((function(){e.step=da.CREATED,t("#NpexPublicRoom2:neo.keanu.im")}),5e3)}))},createRoom:function(){var e=this;this.step=da.CREATING;var t,n=!!this.currentUser,o=!1;this.status=this.$t("new_room.status_creating");var i={};return i="public"==this.joinRule?{visibility:"private",room_alias_name:this.roomName.replace(/\s/g,"").toLowerCase(),name:this.roomName,preset:"public_chat",initial_state:[{type:"m.room.encryption",state_key:"",content:{algorithm:"m.megolm.v1.aes-sha2"}}]}:{visibility:"private",name:this.roomName,preset:"private_chat",initial_state:[{type:"m.room.encryption",state_key:"",content:{algorithm:"m.megolm.v1.aes-sha2"}},{type:"m.room.guest_access",state_key:"",content:{guest_access:"forbidden"}}]},this.roomTopic&&this.roomTopic.length>0&&(i.topic=this.roomTopic),this.$matrix.getLoginPromise().then(function(e){return e.is_guest&&!n&&(o=!0,this.selectedProfile.name&&this.selectedProfile.name.length>0&&(this.$matrix.userDisplayName=this.selectedProfile.name)),o&&this.selectedProfile.name&&0!=this.selectedProfile.name.length?(console.log("CreateRoom: Set display name to: "+this.selectedProfile.name),this.$matrix.matrixClient.setDisplayName(this.selectedProfile.name,void 0)):Promise.resolve(e)}.bind(this)).then(function(){return o&&this.selectedProfile.image?(console.log("CreateRoom: Updating avatar"),T["a"].setAvatar(this.$matrix,this.selectedProfile.image,(function(e){console.log("Progress: "+JSON.stringify(e))}))):(console.log("CreateRoom: No avatar change"),Promise.resolve("no avatar"))}.bind(this)).then((function(){return e.$matrix.matrixClient.createRoom(i).then((function(n){var o=n.room_id,i=n.room_alias;if(t=i||o,!e.roomAvatarFile)return!0;var r=e;return T["a"].setRoomAvatar(e.$matrix.matrixClient,o,e.roomAvatarFile,(function(e){e.total?r.status=this.$t("new_room.status_avatar_total",{count:e.loaded||0,total:e.total}):r.status=this.$t("new_room.status_avatar",{count:e.loaded||0})}))}))})).then((function(){return e.status="",e.step=da.CREATED,t})).catch((function(t){return e.status=t.data&&t.data.error||t.message||t.toString(),e.step=da.INITIAL,null}))},showAvatarPicker:function(){this.step==da.INITIAL&&this.$refs.avatar.click()},handlePickedAvatar:function(e){var t=this;if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(n){t.roomAvatar=n.target.result,t.roomAvatarFile=e.target.files[0]},n.readAsDataURL(e.target.files[0])}},copyRoomLink:function(){var e=this;this.$copyText(this.publicRoomLink).then((function(t){e.publicRoomLinkCopied=!0,setInterval((function(){e.publicRoomLinkCopied=!1}),3e3)}),(function(e){console.log(e)}))},selectAvatar:function(e){this.selectedProfile=Object.assign({},e)},showAvatarPickerList:function(){this.$refs.avatar.$refs.input.click()}}},pa=ga,ha=(n("0bce"),Object(l["a"])(pa,ua,ma,!1,null,null,null)),fa=ha.exports;m()(ha,{VAvatar:be["a"],VBtn:M["a"],VCol:Y["a"],VContainer:G["a"],VFadeTransition:V["d"],VIcon:j["a"],VImg:$["a"],VRow:K["a"],VSelect:Jr["a"],VSwitch:Lr["a"],VTextField:Yr["a"]}),o["a"].use(I["a"]);var va=[{path:"/",name:"Home",component:Z},{path:"/room/:roomId?",name:"Chat",component:zr,meta:{includeRoom:!0}},{path:"/info",name:"RoomInfo",component:function(){return n.e("chunk-66433540").then(n.bind(null,"92df"))},props:!0,meta:{title:"Info",includeRoom:!0}},{path:"/profile",name:"Profile",component:la,meta:{title:"Profile"}},{path:"/createroom",name:"CreateRoom",component:fa,meta:{title:"Create room"}},{path:"/login",name:"Login",component:oa,props:!0},{path:"/join/:roomId?",name:"Join",component:Qr},{path:"/invite/:roomId?",name:"Invite",component:function(){return n.e("chunk-4b4be850").then(n.bind(null,"8aac"))},meta:{title:"Add Friends"}},{path:"/goodbye",name:"Goodbye",component:function(){return n.e("chunk-1248c012").then(n.bind(null,"76f5"))}}],ba=new I["a"]({routes:va});ba.beforeEach((function(e,t,n){var o=["/login","/createroom"],i=!o.includes(e.path),r=ba.app.$store.state.auth.user;if("Chat"==e.name||"Join"==e.name){!e.params.roomId&&e.hash&&(e.params.roomId=e.hash);var a=T["a"].sanitizeRoomId(e.params.roomId);ba.app.$matrix.setCurrentRoomId(a),a&&a.startsWith("#")&&(i=!1)}else if("Invite"==e.name&&e.params.roomId){var s=T["a"].sanitizeRoomId(e.params.roomId);ba.app.$matrix.setCurrentRoomId(s)}i&&!r?n("/login"):n()})),ba.getRoomLink=function(e){return window.location.origin+window.location.pathname+"#/room/"+encodeURIComponent(T["a"].sanitizeRoomId(e))};var xa=ba,_a=n("ba3f"),ya=n("2909"),Aa={install:function(e,t){var n=[],o=null,i=void 0;t.beforeResolve((function(e,t,o){i||(n=[e],i=window.history.length),o()})),t.beforeEach((function(e,t,i){if(o&&(console.log("Nav: next routes set, going:",n,o),n=o,o=null,n.length>0))return console.log("Redirecting to",n[n.length-1]),void i(n[n.length-1]);i()}));var r={push:function(e,i){void 0===i&&(i=1),-1==i?o=[e]:0==i?(o=Object(ya["a"])(n),o.pop(),o.push(e)):(o=Object(ya["a"])(n),o.push(e));var r=o.length-n.length,a=o.length-1;console.log("Nav - index "+r+" Target "+a),r<0?(console.log("Nav - go "+r),t.go(r)):0==r?(console.log("Nav - replace"),n=o,o=null,t.replace(e).catch((function(e){}))):(console.log("Nav - push"),t.push(e).catch((function(e){})))},canPop:function(){return o?o.length>1:n.length>1},pop:function(){n.pop(),t.go(-1)}};e.prototype.$navigation=r}},wa=n("262e"),Ca=n("2caf"),Ia=n("041e"),ka={install:function(e){var t=function(e){Object(wa["a"])(n,e);var t=Object(Ca["a"])(n);function n(){return Object(at["a"])(this,n),t.apply(this,arguments)}return Object(st["a"])(n,[{key:"showForCampaign",value:function(e,t,n){var o=t.nextTotalMeasurementPeriod;if(!o)return"";var i="Help us improve!\n\n"+"We would like to collect anonymous usage data between ".concat(o.start.format("LLL")," and ").concat(o.end.format("LLL")," to improve the quality of the product.\n\nYour help would be highly appreciated.");return n(window.confirm(i)),""}}]),n}(Ia["ConsentRequestUi"]),n=new e({data:function(){return{ci:null,campaignId:null,requestUi:null}},created:function(){var e=a.analytics||{};e.enabled&&e.config&&(this.ci=new Ia["CleanInsights"](e.config),this.campaignId=Object.keys(e.config.campaigns||{invalid:{}})[0])},methods:{event:function(e,n){var o=this;this.ci&&(this.requestUi||(this.requestUi=new t),this.ci.requestConsentForCampaign(this.campaignId,this.requestUi,(function(t){t&&o.ci.measureEvent(e,n,o.campaignId)})))}}});e.prototype.$ci=n}},Ra=(n("d5e8"),n("d1e78"),n("79b5")),Ea=n("252c"),Sa=(n("6eb0"),n("4eb5")),Ta=n.n(Sa),Pa=n("0ec9"),Oa=n.n(Pa),Ma=n("a925");o["a"].use(Ma["a"]);var ja={};function $a(e){return e.keys().map((function(t){var n=t.split("/"),o=n[1].split(".")[0];ja[o]=e(t)}))}$a(n("ebab"));var Ua=new Ma["a"]({locale:"en",fallbackLocale:"en",silentFallbackWarn:!0,messages:ja}),Da=Oa.a.defaults;Da.disallowedTagsMode="recursiveEscape",Da.allowedTags=[],o["a"].use(Oa.a,Da),o["a"].config.productionTip=!1,o["a"].use(Ea["a"]),o["a"].use(Ra["a"]),o["a"].use(_a["a"],{store:C,i18n:Ua}),o["a"].use(ka),o["a"].use(Ta.a),o["a"].use((function(e){e.prototype.$bubble=function(e){for(var t=this,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];do{var r;(r=t).$emit.apply(r,[e].concat(o)),t=t.$parent}while(t)}})),o["a"].directive("blur",{inserted:function(e){e.onfocus=function(e){return e.target.blur()}}}),o["a"].directive("longTap",{bind:function(e,t,n){e.longTapTimeout=parseInt(t.arg||"500"),e.longTapCallbacks=t.value;for(var o=e.longTapCallbacks.length;o<2;o++)e.longTapCallbacks.splice(0,0,null);var i=function(e){return-1!==e.type.indexOf("mouse")?e.clientX:e.touches[0].clientX},r=function(e){return-1!==e.type.indexOf("mouse")?e.clientY:e.touches[0].clientY},a=function(){e.longTapHandled=!0,e.longTapCallbacks[1]&&e.longTapCallbacks[1].call(),e.longTapTimer=null,e.classList.remove("waiting-for-long-tap")},s=function(t){e.longTapHandled=!1,e.longTapStartX=i(t),e.longTapStartY=r(t),e.longTapTimer=setTimeout(a,e.longTapTimeout),e.classList.add("waiting-for-long-tap"),t.preventDefault()},c=function(){e.longTapHandled=!0,e.longTapTimer&&clearTimeout(e.longTapTimer),e.longTapTimer=null,e.classList.remove("waiting-for-long-tap")},l=function(){e.longTapTimer&&clearTimeout(e.longTapTimer),e.longTapTimer=null,e.longTapHandled||e.longTapCallbacks[0]&&e.longTapCallbacks[0].call(),e.classList.remove("waiting-for-long-tap")},u=function(t){e.longTapCurrentX=i(t),e.longTapCurrentY=r(t);var n=4,o=Math.abs(e.longTapStartX-e.longTapCurrentX)>n||Math.abs(e.longTapStartY-e.longTapCurrentY)>n;o&&c()};e.longTapTouchStart=s,e.longTapTouchEnd=l,e.longTapTouchCancel=c,e.longTapTouchMove=u,e.addEventListener("touchstart",s),e.addEventListener("touchend",l),e.addEventListener("touchcancel",c),e.addEventListener("touchmove",u),e.addEventListener("mousedown",s),e.addEventListener("mouseup",l),e.addEventListener("mousemove",u)},unbind:function(e){e.longTapTimer&&clearTimeout(e.longTapTimer),e.removeEventListener("touchstart",e.longTapTouchStart),e.removeEventListener("touchend",e.longTapTouchEnd),e.removeEventListener("touchcancel",e.longTapTouchCancel),e.removeEventListener("touchmove",e.longTapTouchMove),e.removeEventListener("mousedown",e.longTapTouchStart),e.removeEventListener("mouseup",e.longTapTouchEnd),e.removeEventListener("mousemove",e.longTapTouchMove)}}),o["a"].use(Aa,xa),new o["a"]({vuetify:v,store:C,router:xa,i18n:Ua,matrix:_a["a"],cleaninsights:ka,render:function(e){return e(h)}}).$mount("#app")},"56fb":function(e,t,n){"use strict";n("3777")},"57e24":function(e,t,n){e.exports=n.p+"img/thank-you.fbdea442.png"},5885:function(e,t,n){"use strict";n("b149")},"58d3":function(e,t,n){},"5a9b":function(e,t,n){e.exports=n.p+"img/dresil-losar-b.c01eb342.png"},"5b89":function(e,t,n){e.exports=n.p+"img/av_cat.152143a7.png"},"5c0b":function(e,t,n){"use strict";n("9c0c")},"5c59":function(e,t,n){"use strict";n("4c33")},"5c74":function(e,t,n){e.exports=n.p+"img/av_panda.5b6eb785.png"},6:function(e,t){},"60c0":function(e,t,n){"use strict";n("4faa")},6184:function(e,t,n){},6213:function(e,t,n){e.exports=n.p+"img/6yay.14ca2a2b.png"},"62a8":function(e,t,n){e.exports=n.p+"img/losar-ox-dance.dc699cc3.png"},6461:function(e,t,n){e.exports=n.p+"img/intense-discussion.e55e6ede.png"},"64e1":function(e,t,n){},"650e":function(e,t,n){e.exports=n.p+"img/av_tiger.d4418fd9.png"},"65af":function(e,t,n){},6877:function(e,t,n){"use strict";n("4162")},"68f9":function(e,t,n){e.exports=n.p+"img/Mad.48475688.png"},6978:function(e,t,n){},"6a23":function(e,t,n){e.exports=n.p+"img/av_osprey.0ee2ef1c.png"},"6a42":function(e,t,n){"use strict";n("d4c3")},"6a62":function(e,t,n){e.exports=n.p+"img/losar-ox-male.0fe8dbaa.png"},"6ba5":function(e,t,n){e.exports=n.p+"img/av_panther.bd8e1503.png"},"6bd3":function(e,t,n){e.exports=n.p+"img/14eating.02fe8c3f.png"},"6c62":function(e,t,n){e.exports=n.p+"img/7_zomkyi_yo.f5e5bc01.png"},"6e7c":function(e,t,n){e.exports=n.p+"img/raise-hand.18ea24f1.png"},7:function(e,t){},7012:function(e,t,n){e.exports=n.p+"img/i_miss_you.f39a6260.png"},7059:function(e,t,n){e.exports=n.p+"img/11_zomkyi_goodjob.d9b5f190.png"},"720a":function(e,t,n){},"73bc":function(e,t,n){e.exports=n.p+"img/11flowers.d705cbfc.png"},"73d8":function(e,t,n){e.exports=n.p+"img/av_otter.e251be0c.png"},7541:function(e,t,n){"use strict";n("f112")},7614:function(e,t,n){e.exports=n.p+"img/home-offering.51a9f8f8.png"},"768b":function(e,t,n){e.exports=n.p+"img/av_mantis.a0086bc3.png"},"76b1":function(e,t,n){e.exports=n.p+"img/10shhh.110aabf7.png"},"76b8":function(e,t,n){e.exports=n.p+"img/1thinking.2760ef33.png"},"76df":function(e,t,n){e.exports=n.p+"img/losar-wood-ox-float.c2bb7e87.png"},7740:function(e,t,n){e.exports=n.p+"img/av_bunny.2787a707.png"},7798:function(e,t,n){e.exports=n.p+"img/scarf.33256a4d.png"},7924:function(e,t,n){"use strict";n("ce25")},"7af4":function(e,t,n){e.exports=n.p+"img/av_iguna.744f7412.png"},"7b71":function(e,t,n){e.exports=n.p+"img/prayer_flags.b580b473.png"},"7bbb":function(e,t,n){"use strict";n("dec17")},"7bed":function(e,t,n){},"7cb1":function(e,t,n){},"7cd4":function(e,t,n){e.exports=n.p+"img/losar-greeting-yak.b62cf409.png"},"7e6d":function(e,t,n){e.exports=n.p+"img/av_dragonfly.08cea848.png"},"7edc":function(e,t,n){e.exports=n.p+"img/av_hummingbird.abadb545.png"},"7f21":function(e,t,n){e.exports=n.p+"img/i-agree.01036ddb.png"},"7f28":function(e,t,n){e.exports=n.p+"img/pema03.9eef3b62.png"},"7f86":function(e,t,n){e.exports=n.p+"img/lared-boy-final.20a3b6b1.png"},"7fd7":function(e,t,n){e.exports=n.p+"img/14_zomkyi_sickandsad.486ac52b.png"},8:function(e,t){},8004:function(e,t,n){e.exports=n.p+"img/i-understand.6b7adfcf.png"},"80c7":function(e,t,n){e.exports=n.p+"img/Flowers.fd0175fd.png"},"819a":function(e,t,n){"use strict";n("afad")},"81a0":function(e,t,n){e.exports=n.p+"img/av_turtle.80b5d008.png"},"83ed":function(e,t,n){e.exports=n.p+"img/av_orangutan.31fa41b2.png"},"84b5":function(e,t,n){},86543:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("d4ec"),i=n("bee2"),r=n("ade3"),a=(n("2ca0"),n("caad"),n("2532"),n("ac1f"),n("1276"),function(){function e(t,n,i,a){Object(o["a"])(this,e),Object(r["a"])(this,"normalize",(function(){if(this.user_id.startsWith("@")&&this.user_id.includes(":")){var e=this.user_id.split(":");this.user_id=e[0].substring(1),this.home_server="https://"+e[1]}})),this.home_server=t,this.user_id=n,this.password=i,this.is_guest=a||!1}return Object(i["a"])(e,null,[{key:"localPart",value:function(e){if(e&&e.startsWith("@")&&e.includes(":")){var t=e.split(":");return t[0].substring(1)}return e}}]),e}());Object(r["a"])(a,"homeServerUrl",(function(e){return e&&!e.startsWith("https://")?"https://"+e:e}))},"86b9":function(e,t,n){e.exports=n.p+"img/disagree.753d08c9.png"},"86be":function(e,t,n){e.exports=n.p+"img/well-done.df8798d2.png"},"86f7":function(e,t,n){e.exports=n.p+"img/khabsey.11996bd6.png"},8828:function(e,t,n){e.exports=n.p+"img/av_owl.711727bb.png"},"890f":function(e,t,n){e.exports=n.p+"img/Music.3c89732a.png"},"8aa7e":function(e,t,n){e.exports=n.p+"img/av_starfish.5fab06a7.png"},"8b79":function(e,t,n){e.exports=n.p+"img/6_zomkyi_tongue.0353ed69.png"},"8da3":function(e,t,n){e.exports=n.p+"img/8crying.b308c8e2.png"},"8ead":function(e,t,n){e.exports=n.p+"img/av_horse.5b902952.png"},"8f2c":function(e,t,n){},9:function(e,t){},"902b":function(e,t,n){"use strict";n("d402")},"921a":function(e,t,n){var o={"./av_baboon.png":"bcb7","./av_badger.png":"02f6","./av_bear.png":"c56a","./av_bee.png":"f46f","./av_beta.png":"0130","./av_bunny.png":"7740","./av_butterfly.png":"ebf5","./av_cardinal.png":"f3a3d","./av_cat.png":"5b89","./av_cockatoo.png":"ec1f","./av_crab.png":"a9ada","./av_crane.png":"dcc7","./av_dragonfly.png":"7e6d","./av_eagle.png":"53ed","./av_egret.png":"ad17","./av_elephant.png":"a3d9","./av_flamingo.png":"e199","./av_fox.png":"af6a","./av_gazelle.png":"9c44","./av_giraffe.png":"9968","./av_gorilla.png":"c300","./av_hedgehog.png":"1301","./av_hippo.png":"c517","./av_horse.png":"8ead","./av_hummingbird.png":"7edc","./av_iguna.png":"7af4","./av_jellyfish.png":"061b","./av_leopard.png":"2f9f","./av_lion.png":"cddb","./av_lionfish.png":"d4da","./av_lizard.png":"db7c","./av_macaw.png":"19ad","./av_mantis.png":"768b","./av_octopus.png":"03e5","./av_orangutan.png":"83ed","./av_osprey.png":"6a23","./av_otter.png":"73d8","./av_owl.png":"8828","./av_panda.png":"5c74","./av_pangolin.png":"329e","./av_panther.png":"6ba5","./av_peacock.png":"1eb2","./av_penguin.png":"e175","./av_polar bear.png":"403a","./av_puffin.png":"19df","./av_puppy.png":"b459","./av_rhino.png":"b504","./av_rooster.png":"f305","./av_shark.png":"977f","./av_sloth.png":"b74f","./av_snake.png":"5029","./av_squirrel.png":"0478","./av_starfish.png":"8aa7e","./av_stingray.png":"b302","./av_tiger.png":"650e","./av_tucan.png":"132f","./av_turtle.png":"81a0","./av_walrus.png":"2c30","./av_whaleshark.png":"e99d","./av_yak.png":"b95f","./av_zebra.png":"2f1c"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id="921a"},"940a":function(e,t,n){"use strict";n("64e1")},9529:function(e,t,n){e.exports=n.p+"img/interesting.e59237f0.png"},"955c":function(e,t,n){"use strict";n("7bed")},"977f":function(e,t,n){e.exports=n.p+"img/av_shark.545e47bb.png"},"97a3":function(e,t,n){},"97ad":function(e,t,n){},98614:function(e,t,n){"use strict";n("49c5")},9968:function(e,t,n){e.exports=n.p+"img/av_giraffe.7af253ac.png"},"9afd":function(e,t,n){e.exports=n.p+"img/Bite.7bd5ac09.png"},"9b0a":function(e,t,n){e.exports=n.p+"img/Lets Play.34957d55.png"},"9c0c":function(e,t,n){},"9c37":function(e,t,n){"use strict";n("d43f")},"9c44":function(e,t,n){e.exports=n.p+"img/av_gazelle.4a3025c3.png"},"9cdd":function(e,t,n){"use strict";n("abbc")},"9d09":function(e,t,n){e.exports=n.p+"img/goodnight.29dbb1b6.png"},"9eba":function(e,t,n){"use strict";n("4451")},"9efd":function(e,t,n){e.exports=n.p+"img/zom_ex1_08.d6e135bf.png"},a28e:function(e,t,n){var o={"./buddhist/butter_lamp.png":"3c0c","./buddhist/mandala.png":"0ae34","./buddhist/meditation_cushion.png":"db55","./buddhist/prayer_flags.png":"7b71","./buddhist/prayer_wheel.png":"4a86","./buddhist/singing_bowl.png":"e481","./buddhist/stupa.png":"07e5","./buddhist/thangka.png":"cb3e","./buddhist/the_three_jewels.png":"1b7c","./buddhist/trenga.png":"c35b","./expressions/goodnight.png":"9d09","./expressions/happy_birthday.png":"1195","./expressions/i_miss_you.png":"7012","./expressions/lared-boy-final.png":"7f86","./expressions/lared-girl-final.png":"508f","./expressions/monk-ghare-final.png":"ff7e","./expressions/tashi_delek.png":"f952","./expressions/yak-boy-final.png":"bcd4","./expressions/yamtsen-dog-final.png":"af2e","./expressions/zom_ex1_01.png":"ae4b","./expressions/zom_ex1_02.png":"d3e4","./expressions/zom_ex1_03.png":"2668","./expressions/zom_ex1_04.png":"3e6e","./expressions/zom_ex1_05.png":"ffbc","./expressions/zom_ex1_06.png":"da21","./expressions/zom_ex1_07.png":"f5c0","./expressions/zom_ex1_08.png":"9efd","./expressions/zom_ex1_09.png":"f3ee","./expressions/zom_ex1_10.png":"01d6","./losar/dreka-b.png":"20e5","./losar/dresil-losar-b.png":"5a9b","./losar/dresil-losar-recipe.png":"00e4","./losar/guthuk-b.png":"a98a","./losar/guthuk.png":"3cdf","./losar/home-offering.png":"7614","./losar/khabsay-dog.png":"e264","./losar/khabsay.png":"aadc","./losar/khabsey.png":"86f7","./losar/lha_gyalo.png":"fee8","./losar/losar-greeting-yak.png":"7cd4","./losar/losar-ox-couple.png":"a7e9","./losar/losar-ox-dance.png":"62a8","./losar/losar-ox-female.png":"0d2e","./losar/losar-ox-male.png":"6a62","./losar/losar-ox-year.png":"42fe","./losar/losar-wood-ox-float.png":"76df","./losar/losar-yak-greeting.png":"fe5a","./losar/losar_tashi_delek.png":"f9d5","./losar/shaptak.png":"ae7b","./olo and shimi/10shhh.png":"76b1","./olo and shimi/11flowers.png":"73bc","./olo and shimi/12music.png":"444f","./olo and shimi/13relax.png":"f0ea","./olo and shimi/14eating.png":"6bd3","./olo and shimi/15biscuit.png":"183f","./olo and shimi/1thinking.png":"76b8","./olo and shimi/2bored.png":"bbea","./olo and shimi/3scared.png":"3f41","./olo and shimi/4greeting.png":"f7ef","./olo and shimi/5hearts.png":"498d","./olo and shimi/6yay.png":"6213","./olo and shimi/7upset.png":"a2a3","./olo and shimi/8crying.png":"8da3","./olo and shimi/9dancing.png":"d581","./pema/goodmorning.png":"bbf3","./pema/om-mani.png":"39d6","./pema/pema01.png":"0a12","./pema/pema02.png":"4686","./pema/pema03.png":"7f28","./pema/pema04.png":"f43a","./pema/pema05.png":"c1ab","./pema/pema06.png":"ac66","./pema/pema07.png":"03a5","./pema/pema08.png":"c4f8","./pema/pema09.png":"b19e","./pema/pema10.png":"5605","./sindu/Hello.png":"1051","./sindu/Howl.png":"c3fc","./sindu/Lets Play.png":"9b0a","./sindu/Puppy Love.png":"cde0","./sindu/Sleeping.png":"3197","./sindu/Woof.png":"d271","./sindu/play-mud.png":"ce4b","./sindu/play.png":"bffb","./sindu/scarf.png":"7798","./sindu/tashi-delek.png":"e945","./tiboji/ButterTea.png":"1fc8","./tiboji/Om.png":"4f8a","./tiboji/PrayerHands.png":"e0e0","./tiboji/Prostration.png":"3cb7","./tiboji/TibetanPrayerWheel.png":"a486","./tiboji/Yak.png":"31e4","./tiboji/agu_denpa_avatar.png":"b193","./tiboji/butter-lamp.png":"ab72","./tiboji/khata.png":"1a94","./tiboji/monkdebate.png":"c448","./tiboji/shabhaley.png":"030d","./topgyal/Bemused.png":"11b3","./topgyal/Bite.png":"9afd","./topgyal/Cold.png":"0af8","./topgyal/Flowers.png":"80c7","./topgyal/Love.png":"b88f","./topgyal/Mad.png":"68f9","./topgyal/Music.png":"890f","./topgyal/Sad.png":"e994","./topgyal/Singing.png":"2e38","./topgyal/Thinking.png":"fe66","./training/confused-2.png":"f336","./training/confused.png":"ef9e","./training/disagree.png":"86b9","./training/i-agree.png":"7f21","./training/i-am-here.png":"bb87","./training/i-cannot-hear.png":"1649","./training/i-understand.png":"8004","./training/intense-discussion.png":"6461","./training/interesting.png":"9529","./training/raise-hand.png":"6e7c","./training/thank-you.png":"57e24","./training/well-done.png":"86be","./zomkyi/10_zomkyi_jumpinghappy.png":"0002","./zomkyi/11_zomkyi_goodjob.png":"7059","./zomkyi/12_zomkyi_petsdog.png":"2433","./zomkyi/14_zomkyi_sickandsad.png":"7fd7","./zomkyi/15_zomkyi_dog.png":"da4b","./zomkyi/16_zomkyi_sick.png":"cb67","./zomkyi/17_zomkyi_thinking.png":"de13","./zomkyi/18_zomkyi_cryingagain.png":"254f","./zomkyi/19_zomkyi_clapping.png":"eafd","./zomkyi/1_zomkyi_dancing.png":"cefe","./zomkyi/20_zomkyi_heat.png":"010c","./zomkyi/2_zomkyi_hooray.png":"1a51","./zomkyi/4_zomkyi_praying.png":"c8e4","./zomkyi/5_zomkyi_heart.png":"a52b","./zomkyi/6_zomkyi_tongue.png":"8b79","./zomkyi/7_zomkyi_yo.png":"6c62","./zomkyi/8_zomkyi_notondiet.png":"fee4"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id="a28e"},a2a3:function(e,t,n){e.exports=n.p+"img/7upset.526e296b.png"},a384:function(e,t,n){},a3d9:function(e,t,n){e.exports=n.p+"img/av_elephant.cbbeeff1.png"},a486:function(e,t){e.exports="data:image/png;base64,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"},a52b:function(e,t,n){e.exports=n.p+"img/5_zomkyi_heart.80a2c69f.png"},a549:function(e,t,n){"use strict";n("c536")},a741:function(e,t,n){},a7e9:function(e,t,n){e.exports=n.p+"img/losar-ox-couple.f6ae7f3d.png"},a826:function(e,t,n){"use strict";n("97a3")},a98a:function(e,t,n){e.exports=n.p+"img/guthuk-b.416a94c9.png"},a9ada:function(e,t,n){e.exports=n.p+"img/av_crab.331519ac.png"},aadc:function(e,t,n){e.exports=n.p+"img/khabsay.c6172fc0.png"},ab72:function(e,t,n){e.exports=n.p+"img/butter-lamp.248f9f8b.png"},ab89:function(e,t,n){},abbc:function(e,t,n){},ac66:function(e,t,n){e.exports=n.p+"img/pema06.839dd222.png"},ac7e:function(e,t,n){"use strict";n("6184")},ad17:function(e,t,n){e.exports=n.p+"img/av_egret.605ff296.png"},ae4b:function(e,t,n){e.exports=n.p+"img/zom_ex1_01.1d53c0ba.png"},ae7b:function(e,t,n){e.exports=n.p+"img/shaptak.f73d1127.png"},af2e:function(e,t,n){e.exports=n.p+"img/yamtsen-dog-final.8cb7f3b1.png"},af6a:function(e,t,n){e.exports=n.p+"img/av_fox.e790d11c.png"},afad:function(e,t,n){},b149:function(e,t,n){},b193:function(e,t,n){e.exports=n.p+"img/agu_denpa_avatar.24cb3f0c.png"},b19e:function(e,t,n){e.exports=n.p+"img/pema09.a6ffb599.png"},b302:function(e,t,n){e.exports=n.p+"img/av_stingray.e1cf4ae1.png"},b3d7:function(e,t,n){"use strict";n("16b0")},b459:function(e,t,n){e.exports=n.p+"img/av_puppy.3b09488c.png"},b504:function(e,t,n){e.exports=n.p+"img/av_rhino.2299bc9b.png"},b74f:function(e,t,n){e.exports=n.p+"img/av_sloth.1efebb51.png"},b88f:function(e,t,n){e.exports=n.p+"img/Love.34a1f779.png"},b899:function(e,t,n){},b95f:function(e,t,n){e.exports=n.p+"img/av_yak.91a75b41.png"},b9f6:function(e,t,n){"use strict";n("8f2c")},ba1e:function(e,t,n){"use strict";n("2582")},ba3f:function(e,t,n){"use strict";(function(e){var o=n("b85c"),i=(n("4de4"),n("d3b7"),n("2ca0"),n("159b"),n("7db0"),n("b0c0"),n("3ca3"),n("ddb0"),n("99af"),n("ac1f"),n("1276"),n("c4f4")),r=n.n(i),a=n("d930"),s=n("86543"),c=n("db90");e.Olm=n("33cd");var l=n("3366").LocalStorageCryptoStore;t["a"]={install:function(e,t){if(!t||!t.store)throw new Error("Please initialise plugin with a Vuex store.");var n=t.store,u=t.i18n,m=new e({store:n,i18n:u,data:function(){return{matrixClient:null,matrixClientReady:!1,rooms:[],userDisplayName:null,userAvatar:null,currentRoom:null,notificationCount:0}},mounted:function(){console.log("Matrix service mounted")},computed:{ready:function(){return null!=this.matrixClient&&this.matrixClientReady},currentUser:function(){return this.$store.state.auth.user},currentUserId:function(){var e=this.currentUser||{};return e.user_id},currentUserDisplayName:function(){if(this.ready){var e=this.matrixClient.getUser(this.currentUserId)||{};return this.userDisplayName||e.displayName}return null},currentRoomId:function(){return this.$store.state.currentRoomId},joinedRooms:function(){return this.rooms.filter((function(e){return"join"===e._selfMembership}))},invites:function(){return this.rooms.filter((function(e){return"invite"===e._selfMembership}))}},watch:{currentRoomId:{immediate:!0,handler:function(e){this.currentRoom=this.getRoom(e)}}},methods:{createCryptoStore:function(){return console.log("create crypto store"),new l(this.$store.getters.storage)},login:function(e){var t,n=this,o=r.a.createClient(s["a"].homeServerUrl(e.home_server)),i=this;if(e.access_token)t=Promise.resolve(e);else if(e.is_guest&&!e.user_id){var c=a["a"].randomUser(),l=a["a"].randomPass();t=o.register(c,l,null,{type:"m.login.dummy"}).then((function(e){return console.log("Response",e),e.password=l,e.is_guest=!0,n.$store.commit("setUser",e),e}))}else{var u={user:s["a"].localPart(e.user_id),password:e.password,type:"m.login.password"};e.device_id&&(u.device_id=e.device_id),t=o.login("m.login.password",u).then((function(t){var o=t;return e.is_guest&&(o=Object.assign(e,t)),n.$store.commit("setUser",o),t}))}return t.then((function(e){return i.getMatrixClient(e)}))},clearCryptoStore:function(){for(var e=[],t=this.$store.getters.storage,n=0;n<t.length;++n){var o=t.key(n);o.startsWith("crypto.")&&e.push(o)}for(var i=0,r=e;i<r.length;i++){var a=r[i];t.removeItem(a)}},logout:function(){var e=this;this.matrixClient?(this.removeMatrixClientListeners(this.matrixClient),this.matrixClient.stopClient(),this.matrixClient.clearStores().then((function(){e.clearCryptoStore()})),this.matrixClient=null,this.matrixClientReady=!1):this.clearCryptoStore(),this.$store.commit("setUser",null),this.$store.commit("setCurrentRoomId",null),this.rooms=[],this.userDisplayName=null,this.userAvatar=null,this.currentRoom=null,this.notificationCount=0},initClient:function(){var e=this;this.reloadRooms(),this.matrixClientReady=!0,this.matrixClient.emit("Matrix.initialized",this.matrixClient),this.matrixClient.getProfileInfo(this.currentUserId).then((function(t){console.log("Got user profile: "+JSON.stringify(t)),e.userDisplayName=t.displayname,e.userAvatar=t.avatar_url})).catch((function(e){console.log("Failed to get user profile: ",e)}))},getMatrixClient:function(e){var t=this;if(void 0===e&&(e=this.$store.state.auth.user),this.matrixClientReady)return new Promise((function(t,n){t(e)}));if(this.matrixClient)return new Promise((function(n,o){t.matrixClient.once("Matrix.initialized",(function(t){n(e)}))}));var n=new r.a.MemoryStore(this.$store.getters.storage),o=new r.a.WebStorageSessionStore(this.$store.getters.storage),i=e.home_server;i.startsWith("https://")||(i="https://"+i);var a={baseUrl:i,userId:e.user_id,store:n,sessionStore:o,deviceId:e.device_id,accessToken:e.access_token,timelineSupport:!0,unstableClientRelationAggregation:!0};return this.matrixClient=r.a.createClient(a),this.matrixClient.initCrypto().then((function(){return console.log("Crypto initialized"),t.addMatrixClientListeners(t.matrixClient),t.matrixClient.startClient(),t.matrixClient})).then((function(e){return e.isInitialSyncComplete()?(console.log("Initial sync done already!"),e):new Promise((function(t,n){e.once("sync",(function(o,i,r){console.log(o),"PREPARED"==o?t(e):"ERROR"==o&&n("Error syncing")}))}))})).then((function(){return t.initClient(),e}))},getLoginPromise:function(){return this.ready?Promise.resolve(this.currentUser):this.$store.dispatch("login",this.currentUser||new s["a"](c.defaultServer,"","",!0))},addMatrixClientListeners:function(e){e&&(e.on("event",this.onEvent),e.on("Room",this.onRoom),e.on("Session.logged_out",this.onSessionLoggedOut),e.on("Room.myMembership",this.onRoomMyMembership))},removeMatrixClientListeners:function(e){e&&(e.off("event",this.onEvent),e.off("Room",this.onRoom),e.off("Session.logged_out",this.onSessionLoggedOut),e.off("Room.myMembership",this.onRoomMyMembership))},onEvent:function(t){switch(t.getType()){case"m.room.topic":var n=this.matrixClient.getRoom(t.getRoomId());n&&e.set(n,"topic",t.getContent().topic);break;case"m.room.avatar":var o=this.matrixClient.getRoom(t.getRoomId());o&&e.set(o,"avatar",o.getAvatarUrl(this.matrixClient.getHomeserverUrl(),80,80,"scale",!0));break}this.updateNotificationCount()},onRoom:function(e){console.log("Got room: "+e),this.reloadRooms(),this.updateNotificationCount()},onRoomMyMembership:function(e){"invite"===e._selfMembership&&(e.recalculate(),this.reloadRooms())},onSessionLoggedOut:function(){console.log("Logged out!"),this.matrixClient&&(this.removeMatrixClientListeners(this.matrixClient),this.matrixClient.stopClient(),this.matrixClient=null,this.matrixClientReady=!1);var e=JSON.parse(this.$store.state.auth.user);e.is_guest?(delete e.access_token,this.$store.commit("setUser",e),this.login(e)):(this.$store.commit("setUser",null),this.$store.commit("setCurrentRoomId",null),this.$navigation.push({path:"/login"},-1))},reloadRooms:function(){var t=this,n=this.matrixClient.getVisibleRooms();n=n.filter((function(e){return e._selfMembership&&("invite"==e._selfMembership||"join"==e._selfMembership)})),n.forEach((function(n){n.avatar||e.set(n,"avatar",n.getAvatarUrl(t.matrixClient.getHomeserverUrl(),80,80,"scale",!0))})),console.log("Reload rooms",n),e.set(this,"rooms",n);var o=this.getRoom(this.$store.state.currentRoomId);this.currentRoom!=o&&(this.currentRoom=o)},setCurrentRoomId:function(e){this.$store.commit("setCurrentRoomId",e),this.currentRoom=this.getRoom(e)},getRoom:function(e){if(!e)return null;var t=null;if(this.matrixClient){var n=this.matrixClient.getRooms();t=n.find((function(t){return e.startsWith("#")?t.getCanonicalAlias()==e:t.roomId==e}))}return t||null},getAllFriends:function(){var e,t={},n=[],i=Object(o["a"])(this.rooms);try{for(i.s();!(e=i.n()).done;){var r=e.value;if("join"==r._selfMembership&&"invite"==this.getRoomJoinRule(r)){var a,s=Object(o["a"])(r.getJoinedMembers());try{for(s.s();!(a=s.n()).done;){var c=a.value;c.userId==this.currentUserId||t[c.userId]||(t[c.userId]=c,n.push(c))}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){i.e(l)}finally{i.f()}return n.sort((function(e,t){var n=e.user?e.user.displayName:e.name,o=t.user?t.user.displayName:t.name;return n.localeCompare(o)})),n},getRoomJoinRule:function(e){if(e){var t=e.currentState.getStateEvents("m.room.join_rules","");return t&&t.getContent().join_rule}return null},getRoomHistoryVisibility:function(e){if(e){var t=e.currentState.getStateEvents("m.room.history_visibility","");return t&&t.getContent().history_visibility}return null},leaveRoom:function(e){var t=this;return this.matrixClient.leave(e,void 0).then((function(){t.rooms=t.rooms.filter((function(e){e.roomId})),t.matrixClient.store.removeRoom(e)}))},purgeRoom:function(e,t){var n=this,o=this.matrixClient.getGlobalErrorOnUnknownDevices();return new Promise((function(r,a){var s=n.getRoom(e);if(s){var c=new i["TimelineWindow"](n.matrixClient,s.getUnfilteredTimelineSet(),{}),l=n;console.log("Purge: set invite only"),t(n.$t("room.purge_set_room_state")),n.matrixClient.sendStateEvent(e,"m.room.join_rules",{join_rule:"invite"},"").then((function(){return console.log("Purge: forbid guest access"),n.matrixClient.sendStateEvent(e,"m.room.guest_access",{guest_access:"forbidden"},"")})).then((function(){return console.log("Purge: set history visibility to 'joined'"),n.matrixClient.sendStateEvent(e,"m.room.history_visibility",{history_visibility:"joined"})})).then((function(){return console.log("Purge: create timeline"),c.load(null,100)})).then((function(){var e=function e(){return c.canPaginate(i["EventTimeline"].BACKWARDS)?(console.log("Purge: page back"),c.paginate(i["EventTimeline"].BACKWARDS,100,!0,5).then((function(t){return e.call(l)}))):Promise.resolve("Done")}.bind(l);return e()})).then((function(){console.log("Purge: redact events"),t(n.$t("room.purge_redacting_events")),n.matrixClient.setGlobalErrorOnUnknownDevices(!1);var e=[];return c.getEvents().forEach((function(t){t.isRedacted()||t.isRedaction()||t.isState()||e.push(n.matrixClient.redactEvent(t.getRoomId(),t.getId()))})),Promise.all(e)})).then((function(){console.log("Purge: kick members"),t(n.$t("room.purge_removing_members"));var o=s.getMembersWithMembership("join"),i=s.getMembersWithMembership("invite"),r=o.concat(i),a=[];return r.forEach((function(t){t.userId!=l.currentUserId&&a.push(n.matrixClient.kick(e,t.userId))})),Promise.all(a)})).then((function(){t(null),n.matrixClient.setGlobalErrorOnUnknownDevices(o),r(!0)})).catch((function(e){console.error("Error purging room",e),n.matrixClient.setGlobalErrorOnUnknownDevices(o),a(e)}))}else a("Room not found!")}))},getOrCreatePrivateChat:function(e){var t=this;return new Promise((function(n,i){var r,a=Object(o["a"])(t.rooms);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(t.isDirectRoomWith(s,e)){var c=s.getMember(e);return c&&c.membership,void n(s)}}}catch(u){a.e(u)}finally{a.f()}var l={visibility:"private",preset:"private_chat",initial_state:[{type:"m.room.encryption",state_key:"",content:{algorithm:"m.megolm.v1.aes-sha2"}},{type:"m.room.guest_access",state_key:"",content:{guest_access:"forbidden"}}],invite:[e]};return t.matrixClient.createRoom(l).then((function(e){var o=e.room_id,i=e.room_alias;n(t.getRoom(i||o))})).catch((function(e){i(e)}))}))},isDirectRoomWith:function(e,t){if("join"==e._selfMembership&&2==e.getInvitedAndJoinedMemberCount()){if(e.getMembersWithMembership("join").some((function(e){return e.userId==t})))return!0;if(e.getMembersWithMembership("invite").some((function(e){return e.userId==t})))return!0}return!1},on:function(e,t){this.matrixClient&&this.matrixClient.on(e,t)},off:function(e,t){this.matrixClient&&this.matrixClient.off(e,t)},setPassword:function(e,t){if(this.matrixClient&&this.currentUser){var n={type:"m.login.password",identifier:{type:"m.id.user",user:this.currentUser.user_id},user:this.currentUser.user_id,password:e},o=this;return this.matrixClient.setPassword(n,t).then((function(){o.currentUser.password=void 0,o.currentUser.is_guest=!1,o.$store.commit("setUser",o.currentUser)})).then((function(){return!0}))}return Promise.resolve(!1)},uploadFile:function(e,t){return this.matrixClient.uploadContent(e,t)},getPublicRoomInfo:function(e){var t=this;if(!e)return Promise.reject("Invalid parameters");var n=e.split(":");if(2!=n.length)return Promise.reject("Unknown room server");var i,l=n[1];if(this.matrixClient)i=this.getMatrixClient().then((function(){return t.matrixClient}));else{var u=r.a.createClient(c.defaultServer),m=this.$store.state.tempuser,d=null;if(m&&(d=JSON.parse(m)),d)i=Promise.resolve(d);else{var g=a["a"].randomUser(),p=a["a"].randomPass();i=u.register(g,p,null,{type:"m.login.dummy"}).then((function(e){return console.log("Response",e),e.password=p,e.is_guest=!0,t.$store.commit("setTempUser",e),e}))}i=i.then((function(e){var t={user:s["a"].localPart(e.user_id),password:e.password,type:"m.login.password"};return e.device_id&&(t.device_id=e.device_id),u.login("m.login.password",t)})),i=i.then((function(e){var t={baseUrl:c.defaultServer,userId:e.user_id,accessToken:e.access_token,timelineSupport:!1},n=r.a.createClient(t);return n.startClient(),n}))}var h,f=function t(n,i){var r,a=Object(o["a"])(i.chunk);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(e.startsWith("#")&&s.canonical_alias==e||e.startsWith("!")&&s.room_id==e)return s.avatar_url&&(s.avatar=n.mxcUrlToHttp(s.avatar_url,80,80,"scale",!0)),Promise.resolve(s)}}catch(c){a.e(c)}finally{a.f()}return i.next_batch?n.publicRooms({server:l,limit:1e3,since:i.next_batch}).then((function(e){return t(n,e)})).catch((function(e){return Promise.reject("Failed to find room: "+e)})):Promise.reject("No more data")};return i.then((function(e){return h=e,h.publicRooms({server:l,limit:1e3})})).then((function(e){return f(h,e)})).catch((function(e){return Promise.reject("Failed to find room: "+e)}))},updateNotificationCount:function(){var e=0;this.rooms.forEach((function(t){e+=t.getUnreadNotificationCount("total")||0})),this.notificationCount=e}}});r.a.setCryptoStoreFactory(m.createCryptoStore.bind(m)),e.prototype.$matrix=m}}}).call(this,n("c8ba"))},bb87:function(e,t){e.exports="data:image/png;base64,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"},bbea:function(e,t,n){e.exports=n.p+"img/2bored.c03053be.png"},bbf3:function(e,t,n){e.exports=n.p+"img/goodmorning.75756bab.png"},bcb7:function(e,t,n){e.exports=n.p+"img/av_baboon.748ddcc3.png"},bcd4:function(e,t,n){e.exports=n.p+"img/yak-boy-final.bbfc92b8.png"},bed4:function(e,t,n){"use strict";n("c428")},bffb:function(e,t,n){e.exports=n.p+"img/play.b38e191b.png"},c1ab:function(e,t,n){e.exports=n.p+"img/pema05.99005fc7.png"},c300:function(e,t,n){e.exports=n.p+"img/av_gorilla.a95f8263.png"},c302:function(e,t,n){"use strict";n("281b")},c35b:function(e,t,n){e.exports=n.p+"img/trenga.9909de28.png"},c3d5:function(e,t,n){},c3fc:function(e,t,n){e.exports=n.p+"img/Howl.f575651b.png"},c428:function(e,t,n){},c448:function(e,t){e.exports="data:image/png;base64,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"},c4f8:function(e,t,n){e.exports=n.p+"img/pema08.47db66d4.png"},c517:function(e,t,n){e.exports=n.p+"img/av_hippo.26533229.png"},c536:function(e,t,n){},c56a:function(e,t,n){e.exports=n.p+"img/av_bear.f1aa8118.png"},c8e4:function(e,t,n){e.exports=n.p+"img/4_zomkyi_praying.c73450b8.png"},cb20:function(e,t,n){},cb3e:function(e,t,n){e.exports=n.p+"img/thangka.3475657e.png"},cb67:function(e,t,n){e.exports=n.p+"img/16_zomkyi_sick.1168ab7b.png"},cba1:function(e,t,n){},cddb:function(e,t,n){e.exports=n.p+"img/av_lion.4b529348.png"},cde0:function(e,t,n){e.exports=n.p+"img/Puppy Love.5f8d369c.png"},ce25:function(e,t,n){},ce4b:function(e,t,n){e.exports=n.p+"img/play-mud.b5d808f9.png"},cefe:function(e,t,n){e.exports=n.p+"img/1_zomkyi_dancing.b464a6b9.png"},d034:function(e,t,n){"use strict";n("2b99")},d22f:function(e,t,n){},d271:function(e,t,n){e.exports=n.p+"img/Woof.10137132.png"},d2ea:function(e,t,n){"use strict";n("124a")},d3e4:function(e,t,n){e.exports=n.p+"img/zom_ex1_02.f534a370.png"},d402:function(e,t,n){},d43f:function(e,t,n){},d4c3:function(e,t,n){},d4da:function(e,t,n){e.exports=n.p+"img/av_lionfish.a6538492.png"},d581:function(e,t,n){e.exports=n.p+"img/9dancing.c380c053.png"},d930:function(e,t,n){"use strict";(function(e){var o=n("d4ec"),i=n("bee2"),r=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("a15b"),n("d81d"),n("ac1f"),n("1276"),n("b0c0"),n("b64b"),n("2ca0"),n("99af"),n("5319"),n("25f0"),n("466d"),n("a434"),n("159b"),n("fb6a"),n("bc3a")),a=n.n(r),s=n("10fe"),c=n("5a0c"),l=n("6c27").sha256,u=n("7247"),m=n("eacf"),d=n("23ad");c.extend(d);var g=n("d772");c.extend(g);var p=function(){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return void 0!==e||navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia},h=p(),f=function(){function t(){Object(o["a"])(this,t)}return Object(i["a"])(t,[{key:"getAttachment",value:function(e,t,n){var o=this;return new Promise((function(i,r){var s=t.getContent();if(null==s.url){var c=null,l=null;s.file&&s.file.url&&(l=s.file,c=e.mxcUrlToHttp(l.url)),null==c&&r("No url found!"),a.a.get(c,{responseType:"arraybuffer",onDownloadProgress:function(e){var t=Math.floor(100*e.loaded/e.total);n&&n(t)}}).then((function(e){return o.decryptIfNeeded(l,e)})).then((function(e){i(URL.createObjectURL(new Blob([e.buffer],{type:l.mimetype})))})).catch((function(e){console.log("Download error: ",e),r(e)})).finally((function(){n&&n(null)}))}else i(e.mxcUrlToHttp(s.url))}))}},{key:"getThumbnail",value:function(e,t,n,o){var i=this;return new Promise((function(n,o){var r=t.getContent();if(null==r.url){var s=null,c=null;r&&r.info&&r.info.thumbnail_file&&r.info.thumbnail_file.url?(c=r.info.thumbnail_file,s=e.mxcUrlToHttp(c.url)):r.file&&r.file.url&&(c=r.file,s=e.mxcUrlToHttp(c.url)),null!=s?a.a.get(s,{responseType:"arraybuffer"}).then((function(e){return i.decryptIfNeeded(c,e)})).then((function(e){n(URL.createObjectURL(new Blob([e.buffer],{type:c.mimetype})))})).catch((function(e){console.log("Download error: ",e),o(e)})):o("No url found!")}else n(e.mxcUrlToHttp(r.url))}))}},{key:"decryptIfNeeded",value:function(t,n){return new Promise((function(o,i){var r=m.decode(t.key.k),a=m.decode(t.iv),s=new u.ModeOfOperation.ctr(r,new u.Counter(a)),c=new Uint8Array(n.data),d=new Uint8Array(l.create().update(c).arrayBuffer()),g=m.decode(t.hashes.sha256);if(0==e.compare(e.from(d),e.from(g.buffer))){var p=s.decrypt(c);o(p)}else i("Hashes don't match!")}))}},{key:"sendTextMessage",value:function(e,t,n,o,i){var r=s["makeTextMessage"](n);if(o)r["m.relates_to"]={rel_type:"m.replace",event_id:o.getId()},r["m.new_content"]={body:r.body,msgtype:r.msgtype};else if(i){r["m.relates_to"]={"m.in_reply_to":{event_id:i.getId()}};var a=i.getContent().body.split("\n").map((function(e,t){return"> "+(0==t?"<"+i.getSender()+"> ":"")+e})).join("\n");r.body=a+"\n\n"+r.body}return this.sendMessage(e,t,"m.room.message",r)}},{key:"sendQuickReaction",value:function(e,t,n,o){var i={"m.relates_to":{key:n,rel_type:"m.annotation",event_id:o.getId()}};return this.sendMessage(e,t,"m.reaction",i)}},{key:"sendMessage",value:function(e,t,n,o){return new Promise((function(i,r){e.sendEvent(t,n,o,void 0,void 0).then((function(e){console.log("Message sent: ",e),i(!0)})).catch((function(t){if(console.log("Image send error: ",t),t&&"UnknownDeviceError"==t.name){console.log("Unknown devices. Mark as known before retrying.");for(var n=[],o=0,a=Object.keys(t.devices);o<a.length;o++)for(var s=a[o],c=t.devices[s],l=0,u=Object.keys(c);l<u.length;l++){var m=u[l],d=c[m];d.known||n.push(e.setDeviceKnown(s,m,!0))}Promise.all(n).then((function(){e.resendEvent(t.event,e.getRoom(t.event.getRoomId())).then((function(e){console.log("Message sent: ",e),i(!0)})).catch((function(e){r(e.toLocaleString())}))}))}else r(t.toLocaleString())}))}))}},{key:"sendImage",value:function(t,o,i,r){var a=this;return new Promise((function(s,c){var d=new FileReader;d.onload=function(d){var g=d.target.result,p=new Uint8Array(g),h={mimetype:i.type,size:i.size},f=i.name,v="m.image";i.type.startsWith("audio/")?v="m.audio":i.type.startsWith("video/")?v="m.video":i.type.startsWith("application/pdf")&&(v="m.file");var b={type:i.type,name:f,progressHandler:r,onlyContentUri:!1},x={body:f,info:h,msgtype:v};if("m.file"==v&&(x.filename=i.name),t.isRoomEncrypted(o)){var _=n("1c46"),y=_.randomBytes(32),A=e.concat([_.randomBytes(8),e.alloc(8)]),w=new u.ModeOfOperation.ctr(y,new u.Counter(A)),C=w.encrypt(p);p=C;var I=new Uint8Array(l.create().update(p).arrayBuffer()),k={kty:"oct",key_ops:["encrypt","decrypt"],alg:"A256CTR",k:m.encode(y),ext:!0},R={mimetype:i.type,key:k,iv:e.from(A).toString("base64").replace(/=/g,""),hashes:{sha256:e.from(I).toString("base64").replace(/=/g,"")},v:"v2"};x.file=R,b.type="application/octet-stream",t.uploadContent(p,b).then((function(e){return e.error?c(e.error):(R.url=e.content_uri,a.sendMessage(t,o,"m.room.message",x))})).then((function(e){s(e)})).catch((function(e){c(e)}))}else t.uploadContent(p,b).then((function(e){return x.url=e.content_uri,a.sendMessage(t,o,"m.room.message",x)})).then((function(e){s(e)})).catch((function(e){c(e)}))},d.onerror=function(e){c(e)},d.readAsArrayBuffer(i)}))}},{key:"randomUser",value:function(){return this.randomString(12,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}},{key:"randomPass",value:function(){return this.randomString(12,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#_-*+")}},{key:"randomString",value:function(e,t){for(var n="",o=t.length,i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*o));return n}},{key:"sanitizeRoomId",value:function(e){return e&&e.match(/^(!|#).+$/)?e:null}},{key:"getFirstVisibleElement",value:function(e){var t=this.findVisibleElements(e);return t&&t.length>0?t[0]:null}},{key:"getLastVisibleElement",value:function(e){var t=this.findVisibleElements(e);return t&&t.length>0?t[t.length-1]:null}},{key:"findVisibleElements",value:function(e){var t=this.findOneVisibleElement(e);if(t){var n=[e.children[t]],o=t-1;while(o>=0&&this.isChildVisible(e,e.children[o]))n.splice(0,0,e.children[o]),o-=1;o=t+1;while(o<e.children.length&&this.isChildVisible(e,e.children[o]))n.push(e.children[o]),o+=1;return n}return null}},{key:"isChildVisible",value:function(e,t){var n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=!(n.right<o.left||n.left>o.right||n.bottom<o.top||n.top>o.bottom);return i}},{key:"findOneVisibleElement",value:function(e){var t=0,n=e.children.length-1,o=e.scrollTop;while(t<=n){var i=Math.floor((t+n)/2),r=e.children[i];if(this.isChildVisible(e,r))return i;r.offsetTop<o?t=i+1:n=i-1}return null}},{key:"_importAll",value:function(e){var t=[];return e.keys().forEach((function(n){console.log("Avatar",n);var o=n.split("_")[1];o=o.slice(0,o.indexOf(".")),o=o.charAt(0).toUpperCase()+o.slice(1);var i=e(n);t.push({id:n,image:i,name:"Guest "+o})})),t}},{key:"getDefaultAvatars",value:function(){return this._importAll(n("921a"))}},{key:"setAvatar",value:function(e,t,n){return new Promise((function(o,i){a.a.get(t,{responseType:"arraybuffer"}).then((function(t){var r,a={type:t.headers["content-type"].split(";")[0],name:"Avatar",progressHandler:n,onlyContentUri:!1};e.matrixClient.uploadContent(t.data,a).then((function(t){return r=t.content_uri,e.matrixClient.setAvatarUrl(r)})).then((function(t){e.userAvatar=r,o(t)})).catch((function(e){i(e)}))})).catch((function(e){i(e)}))}))}},{key:"setRoomAvatar",value:function(e,t,n,o){return new Promise((function(i,r){var a=new FileReader;a.onload=function(a){var s=a.target.result,c=new Uint8Array(s),l={mimetype:n.type,size:n.size},u={type:n.type,name:"Room Avatar",progressHandler:o,onlyContentUri:!1},m={body:n.name,info:l};e.uploadContent(c,u).then((function(n){return m.url=n.content_uri,e.sendStateEvent(t,"m.room.avatar",m)})).then((function(e){i(e)})).catch((function(e){r(e)}))},a.onerror=function(e){r(e)},a.readAsArrayBuffer(n)}))}},{key:"dayDiff",value:function(e,t){var n=c(e).endOf("day"),o=c(t).endOf("day");return o.diff(n,"day")}},{key:"formatDay",value:function(e){var t=c(e).endOf("day"),n=c().endOf("day"),o=n.diff(t,"day");return o<1?"Today":o<2?"Yesterday":o<7?o+" days ago":t.format("L")}},{key:"formatRecordDuration",value:function(e){return c.duration(e).format("HH:mm:ss")}},{key:"formatDuration",value:function(e){return e>=36e5?c.duration(e).format("H:mm:ss"):c.duration(e).format("m:ss")}},{key:"formatRecordStartTime",value:function(e){var t=c(e);return t.format("lll")}},{key:"browserCanRecordAudio",value:function(){return h}}]),t}();t["a"]=new f}).call(this,n("1c35").Buffer)},d9a4:function(e,t,n){"use strict";n("4060")},da21:function(e,t,n){e.exports=n.p+"img/zom_ex1_06.f00c1b42.png"},da4b:function(e,t,n){e.exports=n.p+"img/15_zomkyi_dog.49b17961.png"},db55:function(e,t,n){e.exports=n.p+"img/meditation_cushion.27b77766.png"},db7c:function(e,t,n){e.exports=n.p+"img/av_lizard.542e0b1b.png"},db90:function(e){e.exports=JSON.parse('{"appName":"Zom Chat","defaultServer":"https://nang.zom.im","useShortCodeStickers":true,"analytics":{"enabled":false,"config":{"server":"https://metrics.cleaninsights.org/cleaninsights.php","siteid":14,"timeout":5,"persistEveryNTimes":1,"debug":true,"campaigns":{"beta":{"start":"2021-01-01T00:00:00-00:00","end":"2021-12-31T23:59:59-00:00","aggregationPeriodLength":1,"numberOfPeriods":90,"onlyRecordOnce":false,"eventAggregationRule":"avg"}}}}}')},dcc7:function(e,t,n){e.exports=n.p+"img/av_crane.5ebd657e.png"},dd2a:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{directives:[{name:"show",rawName:"v-show",value:e.room,expression:"room"}],staticClass:"ma-0 pa-0",attrs:{width:"80%"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("div",{staticClass:"dialog-content text-center"},["public"==e.roomJoinRule?[n("h1",[e._v("")]),n("h2",{staticClass:"dialog-title"},[e._v(" "+e._s(e.$t("leave.title_public",{user:e.$matrix.currentUserDisplayName}))+" ")]),e.$matrix.currentUser.is_guest&&e.lastRoom?n("div",{staticClass:"dialog-text"},[n("i18n",{attrs:{path:"leave.text_public_lastroom",tag:"p"},scopedSlots:e._u([{key:"user",fn:function(){return[n("span",[e._v(e._s(e.$matrix.currentUserDisplayName))])]},proxy:!0},{key:"action",fn:function(){return[n("a",{on:{click:function(t){return t.preventDefault(),e.viewProfile(t)}}},[e._v(e._s(e.$t("leave.create_account")))])]},proxy:!0}],null,!1,2083902707)})],1):n("div",{staticClass:"dialog-text"},[e._v(e._s(e.$t("leave.text_public")))])]:[n("v-icon",{attrs:{color:"black",size:"30"}},[e._v("lock")]),n("h2",{staticClass:"dialog-title"},[e._v(e._s(e.$t("leave.title_invite",{user:e.$matrix.currentUserDisplayName})))]),n("div",{staticClass:"dialog-text"},[e._v(e._s(e.$t("leave.text_invite")))])],n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{cols:"12"}},[n("v-col",{attrs:{cols:"6"}},[n("v-btn",{staticClass:"text-button",attrs:{depressed:"",text:"",block:""},on:{click:function(t){e.showDialog=!1}}},[e._v(e._s(e.$t("leave.go_back")))])],1),n("v-col",{attrs:{cols:"6",align:"center"}},[n("v-btn",{staticClass:"filled-button",attrs:{color:"red",depressed:"",block:""},on:{click:function(t){return t.stopPropagation(),e.onLeaveRoom()}}},[e._v(e._s(e.$t("leave.leave")))])],1)],1)],1)],2)])},i=[],r=n("241d"),a={name:"LeaveRoomDialog",mixins:[r["a"]],props:{show:{type:Boolean,default:function(){return!1}}},data:function(){return{showDialog:!1,lastRoom:!1}},watch:{show:{handler:function(e,t){this.showDialog=e}},showDialog:function(){this.showDialog?this.lastRoom=this.onlyJoinedToThisRoom():this.$emit("close")}},methods:{onlyJoinedToThisRoom:function(){var e=this.$matrix.joinedRooms;return!(!e||1!=e.length||e[0].roomId!=this.room.roomId)},onLeaveRoom:function(){var e=this,t=this.onlyJoinedToThisRoom(),n=this.room.roomId;this.$matrix.leaveRoom(n).then((function(){e.showDialog=!1,console.log("Left room"),t?e.$navigation.push({name:"Goodbye"},-1):e.$navigation.push({name:"Home",params:{roomId:null}},-1)})).catch((function(e){console.log("Error leaving",e)}))},viewProfile:function(){this.showDialog=!1,this.$navigation.push({name:"Profile"},1)}}},s=a,c=(n("d9a4"),n("2877")),l=n("6544"),u=n.n(l),m=n("8336"),d=n("62ad"),g=n("a523"),p=n("169a"),h=n("132d"),f=n("0fd9"),v=Object(c["a"])(s,o,i,!1,null,null,null);t["a"]=v.exports;u()(v,{VBtn:m["a"],VCol:d["a"],VContainer:g["a"],VDialog:p["a"],VIcon:h["a"],VRow:f["a"]})},ddc5:function(e,t,n){},de13:function(e,t,n){e.exports=n.p+"img/17_zomkyi_thinking.13f2bb6c.png"},dec17:function(e,t,n){},decf:function(e,t,n){"use strict";n("c3d5")},e0e0:function(e,t,n){e.exports=n.p+"img/PrayerHands.c10206b8.png"},e175:function(e,t,n){e.exports=n.p+"img/av_penguin.80792892.png"},e199:function(e,t,n){e.exports=n.p+"img/av_flamingo.6c04a0d8.png"},e264:function(e,t,n){e.exports=n.p+"img/khabsay-dog.426d2a87.png"},e481:function(e,t,n){e.exports=n.p+"img/singing_bowl.0bcd02fd.png"},e7c8:function(e,t,n){"use strict";n("fad0")},e7e5:function(e,t,n){"use strict";n("d22f")},e945:function(e,t,n){e.exports=n.p+"img/tashi-delek.b65eb625.png"},e994:function(e,t,n){e.exports=n.p+"img/Sad.733d3903.png"},e99d:function(e,t,n){e.exports=n.p+"img/av_whaleshark.8efe40d9.png"},eafd:function(e,t,n){e.exports=n.p+"img/19_zomkyi_clapping.79566611.png"},ebab:function(e,t,n){var o={"./en.json":"07a7"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id="ebab"},ebf5:function(e,t,n){e.exports=n.p+"img/av_butterfly.873f2a9e.png"},ec1f:function(e,t,n){e.exports=n.p+"img/av_cockatoo.ca3d9f21.png"},edab:function(e,t,n){"use strict";n("ef26")},ef26:function(e,t,n){},ef8b:function(e,t,n){"use strict";n("a384")},ef9e:function(e,t,n){e.exports=n.p+"img/confused.55ece2b5.png"},efbf:function(e,t,n){"use strict";n("97ad")},f09e:function(e,t,n){},f0ea:function(e,t,n){e.exports=n.p+"img/13relax.34122dfa.png"},f112:function(e,t,n){},f220:function(e,t,n){"use strict";n("cba1")},f305:function(e,t,n){e.exports=n.p+"img/av_rooster.14950a79.png"},f336:function(e,t,n){e.exports=n.p+"img/confused-2.b8f35f58.png"},f3a3d:function(e,t,n){e.exports=n.p+"img/av_cardinal.1ca8cd7d.png"},f3ee:function(e,t,n){e.exports=n.p+"img/zom_ex1_09.f47e66a1.png"},f43a:function(e,t,n){e.exports=n.p+"img/pema04.13ab1562.png"},f46f:function(e,t,n){e.exports=n.p+"img/av_bee.33719139.png"},f5c0:function(e,t,n){e.exports=n.p+"img/zom_ex1_07.685cfd29.png"},f613:function(e,t,n){"use strict";n("7cb1")},f7ef:function(e,t,n){e.exports=n.p+"img/4greeting.7ba28278.png"},f952:function(e,t,n){e.exports=n.p+"img/tashi_delek.ee5f42d0.png"},f9d5:function(e,t,n){e.exports=n.p+"img/losar_tashi_delek.4ec6cc41.png"},fa65:function(e,t,n){"use strict";n("fd76")},fad0:function(e,t,n){},fd76:function(e,t,n){},fe5a:function(e,t,n){e.exports=n.p+"img/losar-yak-greeting.4f3390fe.png"},fe66:function(e,t,n){e.exports=n.p+"img/Thinking.7e03fb3d.png"},fee4:function(e,t,n){e.exports=n.p+"img/8_zomkyi_notondiet.a49d8fda.png"},fee8:function(e,t,n){e.exports=n.p+"img/lha_gyalo.36e6240a.png"},ff7e:function(e,t,n){e.exports=n.p+"img/monk-ghare-final.649ec0e9.png"},ffbc:function(e,t,n){e.exports=n.p+"img/zom_ex1_05.bb340831.png"},ffff:function(e,t,n){"use strict";n("58d3")}});
//# sourceMappingURL=app.4e5e818a.js.map